{"version":3,"sources":["AppMode.js","components/Dropdown.js","components/NavBar.js","components/RegisterPage.js","components/ResetPasswordPage.js","components/LoginPage.js","components/FeedPostReply.js","components/FeedPostItem.js","components/FeedPage.js","components/GradeTable.js","components/GradeTableInstructor.js","components/GradesPage.js","components/Assignment.js","components/AssignmentProf.js","components/SubmissionModal.js","components/AssignmentsPage.js","components/AnalyticsPage.js","components/CourseSettingsPage.js","components/UsersList.js","components/UserForm.js","components/UsersPage.js","components/HelpPage.js","components/MailTable.js","components/MailPage.js","components/ProfilePage.js","components/DeleteCoursePage.js","components/Course.js","components/FindCoursePage.js","components/UserSettingsPage.js","components/Admin.js","components/App.js","serviceWorker.js","index.js"],"names":["AppMode","ADMIN","LOGIN","HELP","MAIL","PROFILE","RESET","ASSIGNMENTS","GRADES","USER_SETTINGS","COURSE_SETTINGS","CREATE_COURSE","DELETE_COURSE","FIND_COURSE","ANALYTICS","USERS","USERS_LOGUSER","USERS_EDITUSER","REGISTER","FEED","COURSES","Object","freeze","Dropdown","props","logOut","changeMode","className","role","style","width","this","displayMenu","type","href","onClick","React","Component","NavBar","toggleShowDropdown","newType","setState","prevState","setType","switchMode","newMode","courseManagement","createCourse","renderStudentMode","mode","dashboard","assignments","grades","renderInstructorMode","id","userObj","is_instructor","is_admin","togglecoursedropdown","prevstate","coursedropdown","userdropdown","extend","toggleuserdropdown","state","gotopage","string","handleSelectedCourse","r","updateSelectedCourse","Enrolledcourses","_id","renderCourse","table","push","key","coursewidth","current","offsetWidth","borderRadius","course_name","length","renderRightItems","ref","selectedCourse","namewidth","first_name","last_name","display","flexDirection","top","marginLeft","renderDropdown","createRef","padding","src","alt","height","RegisterPage","createAccount","event","a","userData","userid","email","password","school","url","fetch","headers","method","body","JSON","stringify","res","console","log","status","text","handleRegister","preventDefault","confirm_email","confirm_password","confirm_first_name","confirm_last_name","confirm_id","handleOnChange","target","name","value","emailRef","confirm_emailRef","passwordRef","confirm_passwordRef","fnameRef","confirm_fnameRef","lnameRef","confirm_lnameRef","IDRef","confirmIDRef","validated","position","right","color","fontWeight","onSubmit","autocomplete","size","pattern","required","onChange","ResetPasswordPage","handleSubmit","resetPasswordRef","resetPasswordRepeatRef","resetPassword","focus","errorMsg","checkForSubmit","e","code","cancelResetPassword","placeholder","onKeyUp","LoginPage","handleLoginSubmit","loginBtnIcon","loginBtnLabel","emailInputRef","passwordInputRef","window","open","resText","statusMsg","accountCreateDone","msg","showCreateAccountDialog","cancelCreateAccount","resetUserId","resetQ","resetA","showLookUpAccountDialog","showSecurityQuestionDialog","showResetPasswordPage","handleOAuthLogin","provider","handleOAuthLoginClick","setTimeout","getSecurityAnswer","userId","question","answer","getNewPassword","pw","showResetPaswordDialog","deleted","closeStatusMsg","reset","signUp","githubIcon","githubLabel","loginMsg","newAccountCreated","htmlFor","fontSize","backgroundColor","FeedpostReply","boxShadow","margin","createdby","content","FeedpostItem","showReply","addreply","newpost","reply_content","_inputElement","Date","now","replies","concat","seeReplies","newReply","postid","createntries","entry","JSXreplies","map","marginBottom","listStyleType","FeedPage","addpost","post_content","isanonymous","updateEntries","refreshOnUpdate","toggledropdown","showdropdown","changeselected","newfilter","curselected","setanonymous","response","json","obj","parse","posts","getEntries","componentDidMount","componentDidUpdate","prevProps","JSONposts","JSXposts","float","marginTop","GradeTable","getKeys","keys","data","getHeader","headerRow","i","assignment_name","getRowsData","row","grade","GradeTableInstructor","rows","j","GradesPage","students","updateData","userGrades","k","hasGradebook","isstudent","Assignment","assignmentid","borderBottom","assignment","duedate","didsubmit","showModal","latestactivity","AssignmentProf","showSubmissions","newgrade","SubmissionModal","currentgrades","getGrades","updateGrade","date","oldgrade","submit_date","submission_content","then","defaultValue","JSXgrades","paddingLeft","AssignmentsPage","curassignmentid","createAssignment","curClass","newGrades","assignmentName","assignmentText","assignmentDue","student","studentarray","assignmentData","assignment_content","instructor_id","due_date","toggleCreate","getAssignments","JSXassignments","AnalyticsPage","fontStyle","CourseSettingsPage","updateCourse","course_number","loadCourses","cancelReturnHomepage","prefix","term","year","start_date","end_date","instructor","autoComplete","UsersList","editUser","setEditId","deleteUser","showConfirmDelete","confirmDelete","setDeleteId","renderTable","menuOpen","UserForm","handleChange","faIcon","btnLabel","saveUser","sId","class","thisUser","startData","maxLength","UsersPage","getUsers","addUser","val","deleteId","deleteRole","editId","editRole","users","newData","getUserLists","roles","classData","index","deleteRound","bind","HelpPage","substring","senderId","subject","colSpan","RenderRow","MailPage","inbox","recId","message","outbox","disabled","ProfilePage","switchToEdit","stype","DeleteCoursePage","deleteCourse","alert","cancelDeleteCourse","Course","addStudent","coursename","coursenumber","semester","FindCoursePage","loadCourse","courses","updateEnrolledStudents","UserSettingsPage","accept","Admin","loadUsers","changeRoleCallBack","updateUser","changeRole","String","modeTitle","modeToPage","Administrator","Register","ResetPassword","Grades","Users","Analytics","Assignments","CourseSettings","Help","Mail","Profile","DeleteCourse","FindCourse","UserSettings","App","obj2","arg","handleChangeMode","openMenu","closeMenu","toggleMenuOpen","setUserId","Id","authenticated","showEditAccount","showEditAccountDialog","cancelEditAccount","editAccountDone","displayName","profilePicURL","editAccount","showAboutDialog","isAuthenticated","user","ModePage","create","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.523e2e75.chunk.js","sourcesContent":["/* AppMode: The enumerated type for AppMode. */\r\n\r\n\r\nconst AppMode = {\r\n    ADMIN: \"AdminMode\",\r\n    LOGIN: \"LoginMode\",\r\n    HELP: \"HelpMode\", \r\n    MAIL: \"MailMode\", \r\n    PROFILE: \"ProfileMode\",\r\n    RESET: \"ResetMode\",\r\n    ASSIGNMENTS: \"AssignmentsMode\",\r\n    GRADES: \"GradesMode\",\r\n    USER_SETTINGS: \"UserSettingsMode\",\r\n    COURSE_SETTINGS : \"CourseSettingsMode\",\r\n    CREATE_COURSE: \"CreateCourseMode\", \r\n    DELETE_COURSE: \"DeleteCourseMode\", \r\n    FIND_COURSE: \"FindCourseMode\",\r\n    ANALYTICS: \"AnalyticsMode\",\r\n    USERS: \"UsersMode\",\r\n    USERS_LOGUSER: \"UsersMode-LogUser\",\r\n    USERS_EDITUSER: \"UsersMode-EditUser\",\r\n    REGISTER : \"RegisterMode\",\r\n    FEED: \"FeedMode\",\r\n    COURSES: \"CoursesMode\"\r\n};\r\n\r\nObject.freeze(AppMode); //This ensures that the object is immutable.\r\n\r\nexport default AppMode;","import React from 'react';\r\nimport AppMode from '../AppMode';\r\nimport '../styles/Dropdown.css';\r\n\r\nclass Dropdown extends React.Component {\r\nconstructor(props){\r\n super(props);\r\n\r\n};\r\n\r\n\r\nlogOut = () =>{\r\n  this.props.changeMode(AppMode.LOGIN);\r\n}\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n        <div  className=\"modal-dropdown\" role=\"dialog\" style = {{width:\"200px\"}} >\r\n\r\n          { this.props.displayMenu ?  this.props.type == \"profile\" ? (\r\n        <ul className = \"maindropdown\">\r\n         <li className = \"dropitem\"><a className=\"active\" href=\"#View Profile\" onClick={() =>this.props.changeMode(AppMode.MAIL)}>Mail(0)</a></li>\r\n         <li className = \"dropitem\"><a href=\"#Settings\" onClick={() =>this.props.changeMode(AppMode.PROFILE)}>View Profile</a></li>\r\n         <li className = \"dropitem\"><a href=\"#Settings\" onClick={() =>this.props.changeMode(AppMode.USER_SETTINGS)}>Settings</a></li>\r\n         <li className = \"dropitem\" onClick={this.logOut}><a href=\"#Log Out\">Log Out </a></li>\r\n          </ul>\r\n        ):\r\n        (\r\n          <ul className = \"maindropdown\">\r\n           <li className = \"dropitem\"><a className=\"active\" href=\"#Create Page\" onClick={() =>this.props.changeMode(AppMode.FIND_COURSE)}>Find Course</a></li>\r\n           <li className = \"dropitem\"><a href=\"#Create Course\" onClick={() =>this.props.changeMode(AppMode.COURSE_SETTINGS)}>Create Course</a></li>\r\n           <li className = \"dropitem\"><a href=\"#Delete Course\" onClick={() =>this.props.changeMode(AppMode.DELETE_COURSE)}>Delete Course </a></li>\r\n            </ul>\r\n          )\r\n        :\r\n        (\r\n          null\r\n        )\r\n        }\r\n\r\n       </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dropdown;","import React from 'react';\r\nimport AppMode from '../AppMode';\r\nimport Dropdown from './Dropdown'\r\nimport '../styles/Navbar.css';\r\nclass NavBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.namewidth = React.createRef()\r\n    this.coursewidth = React.createRef()\r\n    this.state = {\r\n      displayMenu: false,\r\n      type: \"\",\r\n      coursedropdown: false,\r\n      userdropdown: false,\r\n      extend: false\r\n    };\r\n\r\n  }\r\n\r\n\r\n  toggleShowDropdown = (newType) => {\r\n    this.setState(prevState => ({ displayMenu: !prevState.displayMenu }));\r\n    this.setType(newType);\r\n  }\r\n\r\n  switchMode = (newMode) => {\r\n    this.props.changeMode(newMode);\r\n  }\r\n\r\n  courseManagement = (newMode) =>{\r\n    this.props.createCourse(false);\r\n    this.props.changeMode(newMode);\r\n  }\r\n\r\n  setType = (newType) => {\r\n    this.setState({ type: newType });\r\n  }\r\n\r\n  renderStudentMode = () => {\r\n    return (\r\n      <div>\r\n        <span>&nbsp;&nbsp;&nbsp;</span>\r\n        <span className={this.props.mode == AppMode.FEED ? \"navbar-title item-selected\" : \"navbar-title\"} onClick={() => this.switchMode(AppMode.FEED)}>\r\n          &nbsp;{this.props.dashboard}&nbsp;\r\n      </span>\r\n        <span>&nbsp;&nbsp;&nbsp;</span>\r\n\r\n        <span className={this.props.mode == AppMode.ASSIGNMENTS ? \"navbar-title item-selected\" : \"navbar-title\"} onClick={() => this.switchMode(AppMode.ASSIGNMENTS)}>\r\n          &nbsp;{this.props.assignments}&nbsp;\r\n      </span>\r\n        <span>&nbsp;&nbsp;&nbsp;</span>\r\n\r\n        <span className={this.props.mode == AppMode.GRADES ? \"navbar-title item-selected\" : \"navbar-title\"} onClick={() => this.switchMode(AppMode.GRADES)}>\r\n          &nbsp;{this.props.grades}&nbsp;\r\n      </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderInstructorMode = () => {\r\n    return (\r\n      <div>\r\n        &nbsp;&nbsp;&nbsp;\r\n        <button className={this.props.mode == AppMode.FEED ? \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} \r\n        id=\"NavBarFeed\" onClick={() => this.switchMode(AppMode.FEED)}>Dashboard</button>\r\n\r\n        <button className={this.props.mode == AppMode.ASSIGNMENTS ? \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} \r\n        id=\"NavBarAssignments\" onClick={() => this.switchMode(AppMode.ASSIGNMENTS)}>Assignments</button>\r\n        \r\n        <button className={this.props.mode == AppMode.GRADES ? \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} \r\n        id=\"NavBarGrades\" onClick={() => this.switchMode(AppMode.GRADES)}>Grades</button>\r\n        \r\n        {this.props.userObj.is_instructor || this.props.userObj.is_admin ? <button className={this.props.mode == AppMode.USERS ?\r\n           \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} id=\"NavBarUsers\" \r\n           onClick={() => this.switchMode(AppMode.USERS)}>Users</button>: null}\r\n        \r\n        {this.props.userObj.is_instructor || this.props.userObj.is_admin ?<button className={this.props.mode == AppMode.COURSE_SETTINGS ?\r\n           \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} \r\n           id=\"NavBarCourseSettings\" onClick={() => this.courseManagement(AppMode.COURSE_SETTINGS)}>Course Settings</button>: null}\r\n        \r\n        {this.props.userObj.is_instructor || this.props.userObj.is_admin ?<button className={this.props.mode == AppMode.ANALYTICS ?\r\n           \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} id=\"NavBarAnalytics\" \r\n           onClick={() => this.switchMode(AppMode.ANALYTICS)}>Analytics</button>: null}\r\n        \r\n        { this.props.userObj.is_admin == true ?<button className={this.props.mode == AppMode.ADMIN ?\r\n           \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} id=\"NavBarAdmin\" onClick={() => this.switchMode(AppMode.ADMIN)}>Administrator</button> : null}\r\n\r\n      </div>\r\n\r\n\r\n    );\r\n  }\r\n  togglecoursedropdown = () => {\r\n    this.setState(prevstate => ({ coursedropdown: !prevstate.coursedropdown, userdropdown: false, extend: false }));\r\n  }\r\n  toggleuserdropdown = () => {\r\n    if (this.state.coursedropdown === true) {\r\n      this.setState({\r\n        extend: true\r\n      })\r\n      this.setState(prevstate => ({ userdropdown: !prevstate.userdropdown, coursedropdown: false }));\r\n    } else {\r\n      this.setState(prevstate => ({ userdropdown: !prevstate.userdropdown, coursedropdown: false, extend: false }));\r\n    }\r\n\r\n  }\r\n  gotopage = (string) => {\r\n    if (string == \"deletecourse\") {\r\n      this.props.changeMode(AppMode.DELETE_COURSE);\r\n    }\r\n    else if (string == \"findcourse\") {\r\n      this.props.changeMode(AppMode.FIND_COURSE);\r\n    }\r\n    else if (string == \"mail\") {\r\n      this.props.changeMode(AppMode.MAIL);\r\n    }\r\n    else if (string == \"profile\") {\r\n      this.props.changeMode(AppMode.PROFILE);\r\n    }\r\n    else if (string == \"settings\") {\r\n      this.props.changeMode(AppMode.USER_SETTINGS);\r\n    }\r\n    else if (string == \"logout\") {\r\n      this.props.changeMode(AppMode.LOGIN);\r\n    }\r\n    else if (string == \"createcourse\") {\r\n      this.props.createCourse(true)\r\n      this.props.changeMode(AppMode.COURSE_SETTINGS);\r\n    }\r\n\r\n    this.setState({\r\n      coursedropdown: false,\r\n      userdropdown: false\r\n    });\r\n  }\r\n\r\n  handleSelectedCourse = (r) =>{\r\n    this.props.updateSelectedCourse(this.props.Enrolledcourses[r]._id)\r\n    this.setState({coursedropdown:false});\r\n\r\n  }\r\n  renderCourse = () => {\r\n    let table = [];\r\n    for (let r = 0; r < this.props.Enrolledcourses.length; ++r) {\r\n      table.push(\r\n        <tr key={r}>\r\n          <td><button className=\"btn btn-primary navdropdown\" style={{ width: this.coursewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} \r\n          onClick={() => this.handleSelectedCourse(r)}>{this.props.Enrolledcourses[r].course_name}</button></td>\r\n        </tr> \r\n      );\r\n    }\r\n   \r\n    return table;\r\n    }\r\n\r\n  renderRightItems = () => {\r\n   \r\n    return (\r\n\r\n      <div>\r\n        <button className=\"btn btn-primary navbutton\" ref={this.coursewidth} onClick={this.togglecoursedropdown}>{this.props.selectedCourse === null ? \"Not enrolled in any courses\" : this.props.selectedCourse.course_name}\r\n        &nbsp;\r\n        <span className={this.state.coursedropdown == true ? \"navbar-title fa fa-angle-left\" : \"navbar-title fa fa-angle-down\"}></span>\r\n        </button>\r\n\r\n        <button className=\"btn btn-primary navbutton\" id=\"profile\" ref={this.namewidth} onClick={this.toggleuserdropdown}>{this.props.userObj.first_name} {this.props.userObj.last_name}\r\n        &nbsp;\r\n        <span className={this.state.userdropdown == true ? \"navbar-title fa fa-angle-left\" : \"navbar-title fa fa-angle-down\"}></span></button>\r\n        <button className=\"btn btn-primary navbutton\" onClick={() => this.switchMode(AppMode.MAIL)}>Mail</button>\r\n        <button className=\"btn btn-primary navbutton\" id=\"viewHelp\" onClick={() => this.switchMode(AppMode.HELP)}>Help</button>\r\n\r\n        {this.state.coursedropdown ?\r\n          <div style={{ display: \"flex\", flexDirection: \"column\", top: \"61px\" }} className=\"mydropdownnav\">\r\n            {this.props.Enrolledcourses.length > 0 ? this.renderCourse():null}\r\n            <button className=\"btn btn-primary navdropdown\" style={{ width: this.coursewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"findcourse\")} >Find Course</button>\r\n            <button className=\"btn btn-primary navdropdown\" style={{ width: this.coursewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={this.props.userObj.is_instructor? () => this.gotopage(\"createcourse\"): null}>Create Course</button>\r\n            <button className=\"btn btn-primary navdropdown\" style={{ width: this.coursewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"deletecourse\")}>Delete Course</button>\r\n          </div>\r\n          :\r\n          null\r\n        }\r\n\r\n        {this.state.userdropdown ?\r\n          <div style={this.state.extend ? { display: \"flex\", flexDirection: \"column\", top: \"61px\", marginLeft: this.coursewidth.current.offsetWidth + 6 + \"px\" } : { display: \"flex\", flexDirection: \"column\", top: \"61px\", marginLeft: this.coursewidth.current.offsetWidth + \"px\" }} className=\"mydropdownnav\">\r\n            <button className=\"btn btn-primary navdropdown\" id=\"viewMail\" style={{ width: this.namewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"mail\")}>Mail</button>\r\n            <button className=\"btn btn-primary navdropdown\" id=\"viewProfile\" style={{ width: this.namewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"profile\")}>Profile</button>\r\n            <button className=\"btn btn-primary navdropdown\" id=\"viewSettings\" style={{ width: this.namewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"settings\")}>Settings</button>\r\n            <button className=\"btn btn-primary navdropdown\" id=\"logoutButton\" style={{ width: this.namewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"logout\")}>Log Out</button>\r\n          </div>\r\n          :\r\n          null\r\n        }\r\n      </div>\r\n    );\r\n\r\n  }\r\n\r\n  renderDropdown = () => {\r\n    return (<Dropdown />);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ padding: \"5px\" }}>\r\n        <div className=\"navbar\">\r\n          <span className=\"navbar-items\">\r\n            <img src=\"osble3.png\" alt=\"osble Logo\" height=\"50px\" onClick={() => this.switchMode(AppMode.FEED)} width=\"100px\" className=\"navbar-items\" />\r\n            {/* {this.renderStudentMode()} */}\r\n            {this.renderInstructorMode()}\r\n          </span>\r\n          <span className=\"navbar-items-right\">\r\n            {this.renderRightItems()}\r\n          </span>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport AppMode from \"./../AppMode.js\"\r\n\r\nclass RegisterPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.emailRef = React.createRef();\r\n        this.confirm_emailRef = React.createRef();\r\n        this.passwordRef = React.createRef();\r\n        this.confirm_passwordRef = React.createRef();\r\n        this.fnameRef = React.createRef();\r\n        this.confirm_fnameRef = React.createRef();\r\n        this.lnameRef = React.createRef();\r\n        this.confirm_lnameRef = React.createRef();\r\n        this.IDRef = React.createRef();\r\n        this.confirmIDRef = React.createRef();\r\n\r\n        this.state = {\r\n            email: \"\",\r\n            confirm_email: \"\",\r\n            password: \"\",\r\n            confirm_password: \"\",\r\n            first_name: \"\",\r\n            last_name: \"\",\r\n            confirm_last_name: \"\",\r\n            confirm_first_name: \"\",\r\n            school: \"Washington State University\",\r\n            id: 0,\r\n            confirm_id: 0,\r\n            validated: true,\r\n        };\r\n    }\r\n\r\n    createAccount = async (event) => {\r\n        let userData = {\r\n            userid: this.state.id,\r\n            email: this.state.email,\r\n            password: this.state.password,\r\n            first_name: this.state.first_name,\r\n            last_name: this.state.last_name,\r\n            school: this.state.school,\r\n            is_instructor: false,\r\n            is_admin: this.state.id == 101 ||this.state.id == 102 || this.state.id == 103 ? true : false,\r\n        }\r\n        const url = '/users/' + this.state.id; \r\n        let res;\r\n        res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'POST',\r\n            body: JSON.stringify(userData)\r\n        });\r\n        console.log(res.status);\r\n        if (res.status == 201) { //successful account creation!\r\n            this.props.changeMode(AppMode.LOGIN);\r\n            //this.props.done(\"New account created! Enter credentials to log in.\", false);\r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n            //this.props.done(resText, false);\r\n        }\r\n\r\n        //this.props.changeMode(AppMode.LOGIN);\r\n    }\r\n    \r\n    handleRegister = (event) => {\r\n        event.preventDefault();\r\n        if (this.state.email == this.state.confirm_email &&\r\n            this.state.password == this.state.confirm_password &&\r\n            this.state.first_name == this.state.confirm_first_name &&\r\n            this.state.last_name == this.state.confirm_last_name &&\r\n            this.state.id == this.state.confirm_id) {\r\n            this.createAccount();\r\n        }\r\n\r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        if (event.target.name == \"email\") {\r\n            this.setState({ email: event.target.value });\r\n        }\r\n\r\n        else if (event.target.name == \"confirm_email\") {\r\n            this.setState({ confirm_email: event.target.value });\r\n        }\r\n        else if (event.target.name == \"password\") {\r\n            this.setState({ password: event.target.value });\r\n        }\r\n        else if (event.target.name == \"confirm_password\") {\r\n            this.setState({ confirm_password: event.target.value });\r\n        }\r\n        else if (event.target.name == \"first_name\") {\r\n            this.setState({ first_name: event.target.value });\r\n        }\r\n        else if (event.target.name == \"last_name\") {\r\n            this.setState({ last_name: event.target.value });\r\n        }\r\n        else if (event.target.name == \"confirm_last_name\") {\r\n            this.setState({ confirm_last_name: event.target.value });\r\n        }\r\n        else if (event.target.name == \"confirm_first_name\") {\r\n            this.setState({ confirm_first_name: event.target.value });\r\n        }\r\n        else if (event.target.name == \"school\") {\r\n            this.setState({ school: event.target.value });\r\n        }\r\n        else if (event.target.name == \"id\") {\r\n            this.setState({ id: event.target.value });\r\n        }\r\n        else if (event.target.name == \"confirm_id\") {\r\n            this.setState({ confirm_id: event.target.value });\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"osblepage\">\r\n                <center>\r\n                    <img src=\"https://i.imgur.com/lBOwYfO.png\" style={{ position: \"relative\", right: \".7rem\" }}></img>\r\n                    <p className=\"paragraph\" style={{ color: 'white', fontWeight: 'bold' }}>\r\n                        Create a New Account &nbsp; <span className=\"fa fa-question-circle\"></span></p>\r\n                    <p className=\"paragraph\" style={{ color: 'white', fontWeight: 'bold' }}>Login Information</p>\r\n\r\n                    <div className=\"modal-body\">\r\n                        <form onSubmit={this.handleRegister}>\r\n                            <label className=\"form-label\">\r\n                                Email address\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    size=\"35\"\r\n                                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n                                    required={true}\r\n                                    ref={this.emailRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Confirm email address\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"confirm_email\"\r\n                                    type=\"email\"\r\n                                    size=\"35\"\r\n                                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n                                    required={true}\r\n                                    ref={this.confirm_emailRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Password\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    id=\"passwordReg\"\r\n                                    size=\"35\"\r\n                                    pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n                                    required={true}\r\n                                    ref={this.passwordRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Confirm password\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"confirm_password\"\r\n                                    type=\"password\"\r\n                                    size=\"35\"\r\n                                    pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n                                    required={true}\r\n                                    ref={this.confirm_passwordRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <p className=\"paragraph\" style={{ color: 'white', fontWeight: 'bold' }}>Identification</p>\r\n                            <label className=\"form-label\">\r\n                                First name\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"first_name\"\r\n                                    type=\"text\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.fnameRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Last name\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"last_name\"\r\n                                    type=\"text\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.lnameRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Confirm last name\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"confirm_last_name\"\r\n                                    id=\"confirm_last_name\"\r\n                                    type=\"text\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.confirm_lnameRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Confirm first name\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"confirm_first_name\"\r\n                                    type=\"text\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.confirm_fnameRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <p className=\"paragraph form-label\">School Information</p>\r\n                            <p style={{ color: 'white' }}>Don't see your school in the list? Request that it be added</p>\r\n                            <label className=\"form-label\">\r\n                                <select name=\"school\" style={{ width: \"600px\" }}\r\n                                    className=\"form-control form-center\" onChange={this.handleOnChange}>\r\n                                    <option value=\"Washington State University\">Washington State University</option>\r\n                                    <option value=\"University of Washington\">University of Washington</option>\r\n                                    <option value=\"Western Washington University\">Western Washington University</option>\r\n                                    <option value=\"Seattle University\">Seattle University</option>\r\n                                </select>\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Student, Faculty, or Staff ID Number\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text\"\r\n                                    name=\"id\"\r\n                                    type=\"number\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.IDRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Confirm Student, Faculty, or Staff ID Number\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text\"\r\n                                    name=\"confirm_id\"\r\n                                    type=\"number\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.confirmIDRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br></br>\r\n                            <button className=\"register-btn\" role=\"submit\" type=\"submit\">Register</button>\r\n                        </form>\r\n                    </div>\r\n                </center>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RegisterPage;","import React from 'react'\r\nimport AppMode from \"../AppMode.js\"\r\n\r\nclass ResetPasswordPage extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.resetPasswordRef = React.createRef();\r\n        this.resetPasswordRepeatRef = React.createRef();\r\n        this.state = {errorMsg: \"\"};\r\n    }\r\n\r\n    //handleSubmit -- When the user submits the form, ensure that the passwords match.\r\n    //If so, call on resetPassword in parent component to actually reset the password.\r\n    //Otherwise, display an error message prompting the user to try again.\r\n    handleSubmit= (event) => {\r\n        event.preventDefault();\r\n        if (this.resetPasswordRef.current.value === this.resetPasswordRepeatRef.current.value) {\r\n            this.props.resetPassword(this.resetPasswordRef.current.value);\r\n        } else {\r\n            this.resetPasswordRepeatRef.current.focus();\r\n            this.setState({errorMsg: \"The passwords you entered do not match. Please try again.\"});\r\n        }\r\n    }\r\n\r\n    checkForSubmit = (e) => {\r\n        if (e.code === \"Enter\") {\r\n            e.preventDefault();\r\n            this.handleSubmit();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"osblepage\">\r\n                <center>\r\n                    <img src=\"https://i.imgur.com/lBOwYfO.png\" style={{position:\"relative\",right:\".7rem\"}}></img>\r\n                </center>\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h3 className=\"modal-title\"><b>Reset Password</b>\r\n                            </h3>\r\n                            <button className=\"modal-close\" \r\n                                onClick={this.props.cancelResetPassword}>\r\n                                &times;\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            {this.state.errorMsg != \"\" ? <p className=\"emphasis\">{this.state.errorMsg}</p> : null} \r\n                            <form onSubmit={this.handleSubmit}>\r\n                            <label>\r\n                                New Password: \r\n                                <input\r\n                                type=\"password\"\r\n                                placeholder=\"Enter new password\"\r\n                                pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n                                className=\"form-control form-text\"\r\n                                ref={this.resetPasswordRef}\r\n                                />\r\n                            </label>\r\n                            <br></br>\r\n                            <label>\r\n                                Repeat New Password: \r\n                                <input\r\n                                type=\"password\"\r\n                                id=\"repeatPassword\"\r\n                                placeholder=\"Repeat new password\"\r\n                                className=\"form-control form-text\"\r\n                                onKeyUp={this.checkForSubmit}\r\n                                ref={this.resetPasswordRepeatRef}\r\n                                />\r\n                            </label>\r\n                            <br></br>\r\n                            <button role=\"submit\" \r\n                            className=\"btn btn-primary btn-color-theme form-submit-btn\">\r\n                                <span className=\"fa fa-key\"></span>&nbsp;Reset Password\r\n                            </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n          );\r\n        \r\n    }\r\n}\r\n\r\nexport default ResetPasswordPage;","import React from 'react';\r\nimport RegisterPage from './RegisterPage.js';\r\nimport ResetPasswordPage from './ResetPasswordPage.js';\r\nimport './LoginPage.css';\r\nimport AppMode from '../AppMode.js';\r\nimport { async } from 'regenerator-runtime';\r\nclass LoginPage extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        //Create a ref for the email input DOM element\r\n        this.emailInputRef = React.createRef();\r\n        this.resetUserId = \"\";\r\n        this.resetQ = \"\";\r\n        this.resetA = \"\";\r\n        this.passwordInputRef = React.createRef();\r\n        this.state = {\r\n            showCreateAccountDialog: false,\r\n            statusMsg: \"\",\r\n            loginBtnIcon: \"fa fa-sign-in\",\r\n            loginBtnLabel: \"Log In\",\r\n            showLookUpAccountDialog: false,\r\n            showSecurityQuestionDialog: false,\r\n            showResetPasswordPage: false,\r\n            githubIcon: \"fa fa-github\",\r\n            githubLabel: \"Sign in with GitHub\",\r\n            loginMsg: \"\",\r\n            newAccountCreated: false\r\n        };\r\n    }\r\n\r\n    //Focus cursor in email input field when mounted\r\n    componentDidMount() {\r\n        this.emailInputRef.current.focus();\r\n    }\r\n\r\n    //handleLoginSubmit -- Called when user clicks on login button.\r\n    handleLoginSubmit = async (event) => {\r\n        event.preventDefault();\r\n        this.setState({\r\n            loginBtnIcon: \"fa fa-spin fa-spinner\",\r\n            loginBtnLabel: \"\"\r\n        });\r\n\r\n        //this.props.changeMode(AppMode.FEED);\r\n        const url = \"auth/login?username=\" + this.emailInputRef.current.value +\r\n            \"&password=\" + this.passwordInputRef.current.value;\r\n        const res = await fetch(url, { method: 'POST' });\r\n        if (res.status == 200) { //successful login!\r\n            // if(this.props.userObj.userid == \"101\")\r\n            // {\r\n                \r\n            //     await this.setAdmin()\r\n            // }\r\n            window.open(\"/\", \"_self\");\r\n        } else { //Unsuccessful login\r\n            const resText = await res.text();\r\n            this.setState({\r\n                loginBtnIcon: \"fa fa-sign-in\",\r\n                loginBtnLabel: \"Log In\",\r\n                statusMsg: resText\r\n            });\r\n        }\r\n    }\r\n\r\n    //accountCreateDone -- Called by child CreateAccountDialog component when \r\n    //user attempted to create new account. Hide the dialog and display \r\n    //a message indicating result of the attempt.\r\n    accountCreateDone = (msg) => {\r\n        this.setState({\r\n            statusMsg: msg,\r\n            showCreateAccountDialog: false\r\n        });\r\n    }\r\n\r\n    //cancelCreateAccount -- Called by child CreateAccountDialog componenet when user decides\r\n    //to cancel creation of new account by clicking the \"X\" in top-right of dialog.\r\n    cancelCreateAccount = () => {\r\n        this.setState({ showCreateAccountDialog: false });\r\n    }\r\n\r\n    //cancelResetPassword -- Called by one of the child three child dialog box components when\r\n    //the user decides to cancel resetting their password. Toggles state so that all three\r\n    //of the dialog boxes are hidden\r\n    cancelResetPassword = () => {\r\n        this.resetUserId = \"\";\r\n        this.resetQ = \"\";\r\n        this.resetA = \"\";\r\n        this.setState({\r\n            showLookUpAccountDialog: false,\r\n            showSecurityQuestionDialog: false,\r\n            showResetPasswordPage: false\r\n        });\r\n    }\r\n\r\n    //handleOAuthLogin -- Callback function that initiates contact with OAuth\r\n    //provider\r\n    handleOAuthLogin = (provider) => {\r\n        window.open(`/auth/${provider}`, \"_self\");\r\n    }\r\n\r\n    //handleOAuthLoginClick -- Called whent the user clicks on button to\r\n    //authenticate via a third-party OAuth service. The name of the provider is\r\n    //passed in as a parameter.\r\n    handleOAuthLoginClick = (provider) => {\r\n        this.setState({\r\n            [provider + \"Icon\"]: \"fa fa-spin fa-spinner\",\r\n            [provider + \"Label\"]: \"Connecting...\"\r\n        });\r\n        setTimeout(() => this.handleOAuthLogin(provider), 1000);\r\n    }\r\n\r\n    //getSecurityAnswer: Given the id, security question, and security answer obtained\r\n    //from the LookUpAccountDialog component, update state such that the user will\r\n    //next be prompted to enter security question and answer for verification\r\n    getSecurityAnswer = (userId, question, answer) => {\r\n        this.resetUserId = userId;\r\n        this.resetQ = question;\r\n        this.resetA = answer;\r\n        this.setState({\r\n            showLookUpAccountDialog: false,\r\n            showSecurityQuestionDialog: true\r\n        });\r\n    }\r\n\r\n    //getNewPassword-- Called after user successfully provides correct answer\r\n    //to security question. Presents the \"Reset Password\" dialog box.\r\n    getNewPassword = () => {\r\n        this.setState({\r\n            showSecurityQuestionDialog: false,\r\n            showResetPasswordPage: true\r\n        });\r\n    }\r\n\r\n    //resetPassword--Called after the user successfully enters a new (acceptable)\r\n    //password. pw contains the new password. Call on the Update (PUT) server\r\n    //route to update the user's password in the database.\r\n    resetPassword = async (pw) => {\r\n        const url = \"/users/\" + this.resetUserId;\r\n        const res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n\r\n            method: 'PUT',\r\n            body: JSON.stringify({ password: pw })\r\n        });\r\n        if (res.status == 200) { //successful update creation!\r\n            this.setState({\r\n                showResetPaswordDialog: false,\r\n                statusMsg: \"Password successfully reset!\"\r\n            });\r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n            this.setState({\r\n                showResetPasswordPage: false,\r\n                statusMsg: resText\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    //newAccountCreated -- Called after successful creation of a new account\r\n    accountCreateDone = (msg, deleted) => {\r\n        this.setState({\r\n            statusMsg: msg,\r\n            showCreateAccountDialog: false\r\n        });\r\n    }\r\n\r\n\r\n\r\n    //closeStatusMsg -- Called when user clicks on \"x\" to dismiss status message\r\n    closeStatusMsg = () => {\r\n        this.setState({ statusMsg: \"\" });\r\n    }\r\n\r\n    reset = () => {\r\n        this.props.changeMode(AppMode.RESET)\r\n    }\r\n\r\n\r\n    //cancelCreateAccount -- called to hide Create Account dialog without creating acct\r\n    cancelCreateAccount = () => {\r\n        this.setState({ showCreateAccountDialog: false });\r\n    }\r\n\r\n    signUp = () => {\r\n        this.setState({ showCreateAccountDialog: true });\r\n        this.props.changeMode(AppMode.REGISTER);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"osblepage\" id=\"loginPage\">\r\n                <center>\r\n                    <div className=\"wrapper\">\r\n\r\n                        <img src=\"https://i.imgur.com/lBOwYfO.png\" style={{ position: \"relative\", right: \".7rem\" }}></img>\r\n                        {this.state.statusMsg != \"\" ? <div className=\"status-msg\"><span>{this.state.statusMsg}</span>\r\n                            <button className=\"modal-close\" onClick={this.closeStatusMsg}>\r\n                                <span className=\"fa fa-times\"></span>\r\n                            </button></div> : null}\r\n                        <form id=\"loginInterface\" onSubmit={this.handleLoginSubmit}>\r\n                            <label htmlFor=\"emailInput\" style={{ padding: 0, fontSize: 24, fontWeight: \"500\" }}>\r\n\r\n                                <input\r\n                                    style={{ backgroundColor: \"white\" }}\r\n                                    ref={this.emailInputRef}\r\n                                    className=\"form-control enterEmail\"\r\n                                    type=\"email\"\r\n                                    placeholder=\"Email\"\r\n                                    id=\"emailInput\"\r\n                                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n                                    required={true}\r\n                                />\r\n                            </label>\r\n\r\n                            <label htmlFor=\"passwordInput\" style={{ padding: 0, fontSize: 24, fontWeight: \"500\" }}>\r\n\r\n                                <input\r\n                                    ref={this.passwordInputRef}\r\n                                    className=\"form-control enterPassword\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password\"\r\n                                    id=\"passwordInput\"\r\n                                    pattern=\"[A-Za-z0-9!@#$%^&*()_+\\-]+\"\r\n                                    required={true}\r\n                                />\r\n                            </label>\r\n\r\n                            <p className=\"bg-danger\" id=\"feedback\" style={{ fontSize: 16 }} />\r\n\r\n                            <button id=\"login-btn\"\r\n                                type=\"submit\"\r\n\r\n                                className=\" btn btn-primary btn-block LoginButton\">\r\n                                <span id=\"login-btn-icon\" className={this.state.loginBtnIcon} />\r\n                &nbsp;{this.state.loginBtnLabel}\r\n                            </button>\r\n                            <br></br>\r\n                            <p>\r\n                                <button type=\"button\" className=\"btn btn-link login-link\" id=\"createAccountBtn\"\r\n                                    onClick={this.signUp}>\r\n                                    Create an account</button> |\r\n                <button type=\"button\" className=\"btn btn-link login-link\" id=\"resetBtn\"\r\n                                    onClick={this.reset}>\r\n                                    Reset your password</button>\r\n                            </p>\r\n                            <p>\r\n                                <i>Developed by Hermes Obiang, Leonard Brkanac,\r\n                                     Joshua James Stallworth, Sean Brendan Washington,Tianhao Ye\r\n\r\n</i>\r\n                            </p>\r\n                        </form>\r\n\r\n                    </div>\r\n                </center>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LoginPage;\r\n","import React from \"react\";\r\nimport '../styles/FeedItem.css';\r\nexport default class FeedpostReply extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <li key={this.props.key}>\r\n                <div style={{ width: \"98%\", boxShadow: \"0px 1px 5px rgba(0,0,0,0.55)\", borderRadius: \"5px\", margin: \".5rem\" }}>\r\n                    <div style={{ backgroundColor: \"#f5f5f5\", borderRadius: \"5px\" }}><div style={{ padding: \"3px\" }}><div style={{ marginLeft: \".4rem\" }}>{this.props.createdby}</div></div></div>\r\n                    <div id=\"replyItem\" style={{ padding: \"3px\", marginLeft: \".4rem\" }}>{this.props.content}</div>\r\n\r\n                </div>\r\n\r\n            </li>\r\n\r\n        )\r\n    }\r\n};","import React from \"react\";\r\nimport '../styles/FeedItem.css';\r\nimport FeedPostReply from './FeedPostReply.js'\r\nexport default class FeedpostItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showReply: false,\r\n            replies: [],\r\n            seeReplies: false\r\n        };\r\n\r\n\r\n    }\r\n    componentDidMount(){\r\n        this.setState({\r\n            replies: this.props.replies\r\n        },()=> console.log(this.state.replies))\r\n    }\r\n    showReply = (e) => {\r\n        this.setState(prevstate => ({ showReply: !prevstate.showReply }));\r\n    }\r\n    addreply = async(e) => {\r\n        var newpost = {\r\n            userid: this.props.createdby,\r\n            reply_content: this._inputElement.value,\r\n            key: Date.now()\r\n        }\r\n\r\n        this.setState(prevstate => ({ replies: [newpost].concat(prevstate.replies) }));\r\n        this._inputElement.value = \"\";\r\n        this.setState({\r\n            seeReplies: true\r\n        })\r\n        this.showReply();\r\n        e.preventDefault();\r\n        var newReply = {\r\n            createdby: this.props.createdby,\r\n            content: newpost.reply_content,\r\n            key: Date.now(),\r\n            _id:this.props.postid\r\n        }\r\n        const url = '/courses/addreply/' + this.props.selectedCourse.course_name\r\n        let res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'PUT',\r\n            body: JSON.stringify(newReply)\r\n        });\r\n    }\r\n    createntries = (entry) => {\r\n        return <FeedPostReply content={entry.reply_content} createdby={entry.userid} key={entry.key}></FeedPostReply>\r\n    }\r\n    seeReplies = (e) => {\r\n        this.setState(prevstate => ({ seeReplies: !prevstate.seeReplies }));\r\n    }\r\n    render() {\r\n        var JSONreplies = this.state.replies;\r\n        var JSXreplies = JSONreplies.map(this.createntries)\r\n        return (\r\n            <li key={this.props.key}>\r\n\r\n                <div style={{ width: \"98%\", boxShadow: \"0px 1px 5px rgba(0,0,0,0.55)\", margin: \".5rem\", borderRadius: \"5px\" }}>\r\n                    <div style={{ borderRadius: \"5px\", backgroundColor: \"#f5f5f5\" }}>\r\n                        <div style={{ padding: \"3px\" }}><div style={{ marginLeft: \".4rem\" }}>{this.props.createdby}</div></div></div>\r\n                    <div id=\"postItem\" style={{ padding: \"3px\", marginLeft: \".4rem\" }}>{this.props.content}</div>\r\n\r\n                    <form onSubmit={this.addreply}>\r\n                        {\r\n                            this.state.showReply ?\r\n                                <div >\r\n                                    <textarea required={true} ref={(a) => this._inputElement = a} className=\"postinput\" id=\"FeedReplyBox\" placeholder=\"Enter Reply Here...\" style={{ marginBottom: \"0px\" }}></textarea>\r\n\r\n                                </div>\r\n                                :\r\n                                null\r\n                        }\r\n                        {\r\n                            this.state.seeReplies ?\r\n                                <ul style={{ listStyleType: \"none\", padding: \"0px\" }}>\r\n                                    {JSXreplies}\r\n                                </ul>\r\n                                :\r\n                                null\r\n                        }\r\n                        <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                            <button type=\"button\" className=\"postitembutton\" id=\"FeedReplyButton1\" onClick={this.showReply}>{this.state.showReply ? \"Cancel\" : \"Reply\"}</button>\r\n                            <button type=\"button\" className=\"postitembutton\" id=\"FeedHide-Show-Reply\" onClick={this.seeReplies} style={{ width: \"8rem\" }}>{this.state.seeReplies ? \"Hide Replies\" : \"Show Replies \"}{this.state.seeReplies ? \"\" : \"(\" + this.state.replies.length + \")\"}</button>\r\n                            {\r\n                                this.state.showReply ?\r\n                                    <button className=\"postitembutton\" id=\"FeedReplyButton\" style={{ width: \"4rem\" }}>Submit</button>\r\n                                    :\r\n                                    null\r\n                            }\r\n\r\n                        </div>\r\n                    </form>\r\n\r\n\r\n                </div>\r\n\r\n            </li>\r\n\r\n        )\r\n    }\r\n};","import { set } from 'mongoose';\r\nimport React from 'react';\r\nimport AppMode from '../AppMode';\r\nimport '../styles/FeedPage.css';\r\nimport FeedPostItem from './FeedPostItem.js'\r\nclass FeedPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = { // each json object should follow at least this format\r\n            posts: this.props.selectedCourse.posts,\r\n            \r\n            showdropdown: false,\r\n            curselected: \"Everyone\",\r\n            isanonymous: false,\r\n        };\r\n            }; \r\n        \r\n\r\n\r\n    \r\n    addpost = async (e) => {\r\n        var newpost = {\r\n            userid: this.props.userObj.userid, \r\n            createdby: this.props.userObj.first_name + \" \" + this.props.userObj.last_name,\r\n            post_content: this._inputElement.value,\r\n            key: Date.now(),\r\n            replies: []\r\n        }\r\n        if (this.state.isanonymous == true) {\r\n            newpost.createdby = \"Anonymous\"\r\n        }\r\n   \r\n        this._inputElement.value = \"\";\r\n               \r\n       \r\n        \r\n        console.log(newpost);\r\n        e.preventDefault();\r\n        const url = '/courses/addpost/' + this.props.selectedCourse.course_name;\r\n        let body = newpost;\r\n        let res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'PUT',\r\n            body: JSON.stringify(body)\r\n        });\r\n\r\n        console.log(res.status)\r\n        if (res.status === 200) { //successful account creation!\r\n           this.updateEntries();\r\n           this.props.refreshOnUpdate(AppMode.FEED);\r\n            //this.props.done(\"New account created! Enter credentials to log in.\", false);\r\n            //this.setState({ posts: newposts });\r\n            \r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n            //this.props.done(resText, false);\r\n        }\r\n        //this.setState({ posts: newposts });\r\n        \r\n    }\r\n    toggledropdown = (e) => {\r\n        this.setState(prevstate => ({ showdropdown: !prevstate.showdropdown }));\r\n\r\n    }\r\n    changeselected = (newfilter) => {\r\n        this.setState({\r\n            curselected: newfilter\r\n        })\r\n        this.toggledropdown();\r\n    }\r\n    setanonymous = (e) => {\r\n        this.setState(prevstate => ({ isanonymous: !prevstate.isanonymous }));\r\n    }\r\n    createntries = (entry) => {\r\n        return <FeedPostItem selectedCourse={this.props.selectedCourse} postid = {entry._id} content={entry.post_content} createdby={entry.createdby} key={entry.key} replies = {entry.replies}></FeedPostItem>\r\n    }\r\n    updateEntries = async () => {\r\n        let response = await fetch(\"/courses/\" + this.props.selectedCourse.course_name);\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        this.setState({\r\n            posts: obj.posts\r\n        });\r\n    }\r\n\r\n    getEntries = async () => {\r\n\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        // get most recent list of assignments\r\n        await this.props.selectedCourse.course_name;\r\n        if (this.props.selectedCourse.course_name){\r\n            let response = await fetch(\"/courses/\" + this.props.selectedCourse.course_name);\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        this.setState({\r\n            posts: obj.posts\r\n        }, () => console.log(this.state.posts, obj.posts));\r\n\r\n        }\r\n        \r\n    }\r\n\r\n    componentDidUpdate = async (prevProps, prevState) => { // updates current assignmentlist\r\n        if (prevProps.selectedCourse.course_name === this.props.selectedCourse.course_name) {\r\n            //do nothing\r\n        } else {\r\n\r\n            this.setState({\r\n                posts: this.props.selectedCourse.posts\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        var JSONposts =this.state.posts;\r\n        console.log(\"selected\" + this.props.selectedCourse);\r\n        if (JSONposts)\r\n        {\r\n            var JSXposts = JSONposts.map(this.createntries) \r\n        }\r\n        \r\n        return (\r\n            <div className=\"feedpage\" id=\"feedPage\">\r\n                <div className=\"flexwrapper\">\r\n                    <div className=\"notifications\">\r\n                        <h1 style={{ margin: \".7rem\" ,fontSize:\"30px\"}}>Notifications</h1>\r\n                        <ul>\r\n                            <li>Notification 1</li>\r\n                            <li>Notification 2</li>\r\n                            <li>Notification 3</li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"feed\">\r\n                        <h1 style={{ margin: \".7rem\" ,fontSize:\"30px\"}}>Activity Feed</h1>\r\n\r\n                        <form onSubmit={this.addpost}>\r\n                            <textarea required={true} ref={(a) => this._inputElement = a} className=\"postinput\" id=\"FeedPostBox\" placeholder=\"Enter new post here...\"></textarea>\r\n                            <div style={{ display: \"flex\", flexDirection: \"row\", height: \"2.5rem\" }}>\r\n                                <button type=\"submit\" className=\"btn btn-primary\" id=\"FeedPostButton\" style={{ float: \"left\", marginLeft: \".5rem\" }}>Post</button>\r\n                                <button type=\"button\" onClick={() => this.toggledropdown()} className=\"btn btn-primary\" style={{ float: \"left\", marginLeft: \".5rem\", width: \"10rem\" }}>{this.state.curselected}</button>\r\n                                <input type=\"checkbox\" style={{ marginTop: \".8rem\", marginLeft: \"1rem\" }} onClick={this.setanonymous}></input>\r\n                                <p style={{ marginTop: \".4rem\", marginLeft: \".5rem\" }}>Post Anonymously</p>\r\n                            </div>\r\n                        </form>\r\n                        {this.state.showdropdown ?\r\n                            <div style={{ display: \"flex\", flexDirection: \"column\" }} className=\"mydropdown\">\r\n                                <button className=\"btn btn-primary\" style={{ width: \"10rem\", borderRadius: \"0px\" }} onClick={() => this.changeselected(\"Everyone\")}>Everyone</button>\r\n                                <button className=\"btn btn-primary\" style={{ width: \"10rem\", borderRadius: \"0px\" }} onClick={() => this.changeselected(\"Instructors only\")}>Instructors Only</button>\r\n                            </div>\r\n\r\n                            :\r\n                            null\r\n\r\n                        }\r\n                        \r\n                        <ul style={{ listStyleType: \"none\", padding: \"0px\" ,marginTop:\"1rem\"}}>\r\n                            {JSXposts}\r\n                        </ul>\r\n\r\n                    </div>\r\n                    <div className=\"files\">\r\n                        <h1 style={{ margin: \".7rem\" ,fontSize:\"30px\"}}>Files</h1>\r\n                        <ul>\r\n                            <li>File 1</li>\r\n                            <li>File 2</li>\r\n                            <li>File 3</li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default FeedPage;","import React from 'react'\r\n// Code from https://medium.com/@subalerts/create-dynamic-table-from-json-in-react-js-1a4a7b1146ef\r\nexport default class GradeTable extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n    }\r\n\r\n    getKeys = function () {\r\n        return Object.keys(this.props.data[0]);\r\n    }\r\n\r\n    getHeader = function () {\r\n        \r\n        let headerRow =[<th>Assignment:</th>];\r\n        for (let i = 0; i < this.props.data.length; i++)\r\n        {\r\n            headerRow.push(<th key={i}>{this.props.data[i].assignment_name }</th>)\r\n        }\r\n        return headerRow;\r\n        \r\n\r\n    }\r\n\r\n    getRowsData = function () {\r\n        let row = [<th>Grade:</th>];\r\n        for (let i = 0; i < this.props.data.length; i++)\r\n        {\r\n            row.push(<th key={i}>{this.props.data[i].grade }</th>)\r\n        }\r\n        \r\n            return <tr>{row}</tr>\r\n        \r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <table className=\"table table-hover\">\r\n                    <thead className=\"thead-light\">\r\n                        <tr>{this.getHeader()}</tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.getRowsData()}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react'\r\n// Code from https://medium.com/@subalerts/create-dynamic-table-from-json-in-react-js-1a4a7b1146ef\r\nexport default class GradeTableInstructor extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n    }\r\n\r\n   \r\n\r\n    getHeader = function () {\r\n        \r\n        let headerRow =[<th>Assignment:</th>];\r\n        for (let i = 0; i < this.props.selectedCourse.assignments.length; i++)\r\n        {\r\n            headerRow.push(<th key={i}>{this.props.selectedCourse.assignments[i].assignment_name }</th>)\r\n        }\r\n        return headerRow;\r\n        \r\n\r\n    }\r\n\r\n    getRowsData = function () {\r\n        let rows = []\r\n        for( let j = 0; j < this.props.data.length; j++){\r\n\r\n        let row = [<th>{this.props.data[j].userid}:</th>];\r\n        for (let i = 0; i < this.props.data[j].grades.length; i++)\r\n        {\r\n            row.push(<th key={i}>{this.props.data[j].grades[i] }</th>)\r\n        }\r\n        rows.push(<tr>{row}</tr>)\r\n    }\r\n        \r\n            return rows;\r\n        \r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <table className=\"table table-hover\">\r\n                    <thead className=\"thead-light\">\r\n                        <tr>{this.getHeader()}</tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.getRowsData()}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport GradeTable from './GradeTable'\r\nimport GradeTableInstructor from './GradeTableInstructor'\r\n\r\nclass GradesPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let userGrades = [];\r\n        if (!this.props.userObj.is_instructor) {\r\n            for (let i = 0; i < this.props.selectedCourse.assignments.length; i++) {\r\n                for (let j = 0; j < this.props.selectedCourse.assignments[i].grades.length; j++) {\r\n                    if (this.props.selectedCourse.assignments[i].grades[j].userid === this.props.userObj.userid) {\r\n                        userGrades.push({\r\n                            assignment_name: this.props.selectedCourse.assignments[i].assignment_name,\r\n                            grade: this.props.selectedCourse.assignments[i].grades[j].grade\r\n\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            let students = this.props.selectedCourse.students;\r\n            let assignments = this.props.selectedCourse.assignments;\r\n\r\n            for (let i = 0; i < students.length; i++) {\r\n                let grade = {};\r\n                grade.userid = students[i];\r\n                grade.grades = [];\r\n                for (let j = 0; j < assignments.length; j++) {\r\n                    for (let k = 0; k < assignments[j].grades.length; k++) {\r\n                        console.log(students[i], assignments[j].grades[k].userid)\r\n                        if (students[i] === assignments[j].grades[k].userid) {\r\n                            grade.grades.push(assignments[j].grades[k].grade)\r\n                        }\r\n                    }\r\n                }\r\n                console.log(grade);\r\n                userGrades.push(grade);\r\n            }\r\n        }\r\n\r\n        console.log(userGrades);\r\n        this.state = {\r\n            assignments: this.props.selectedCourse.assignments,\r\n            students: this.props.selectedCourse.students,\r\n            data: userGrades,\r\n            hasGradebook: true,\r\n            isstudent: true\r\n\r\n        }\r\n    }\r\n    componentDidMount = async () => {\r\n        // get most recent list of assignments\r\n        let response = await fetch(\"/courses/\" + this.props.selectedCourse.course_name);\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        this.setState({\r\n            assignments: obj.assignments,\r\n            students: obj.students,\r\n        }, () => console.log(this.state.assignments, obj.assignments));\r\n        this.updateData()\r\n\r\n    }\r\n\r\n    componentDidUpdate = async (prevProps, prevState) => { // updates current assignmentlist\r\n        if (prevProps.selectedCourse.course_name === this.props.selectedCourse.course_name) {\r\n            //do nothing\r\n        } else {\r\n\r\n            this.setState({\r\n                assignments: this.props.selectedCourse.assignments,\r\n                students: this.props.selectedCourse.students,\r\n            })\r\n        }\r\n        this.updateData()\r\n    }\r\n    updateData = () => {\r\n        let userGrades = [];\r\n        if (!this.props.userObj.is_instructor) {\r\n\r\n            for (let i = 0; i < this.state.assignments.length; i++) {\r\n                for (let j = 0; j < this.state.assignments[i].grades.length; j++) {\r\n                    if (this.state.assignments[i].grades[j].userid === this.props.userObj.userid) {\r\n                        userGrades.push({\r\n                            assignment_name: this.state.assignments[i].assignment_name,\r\n                            grade: this.state.assignments[i].grades[j].grade\r\n\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            let students = this.state.students;\r\n            let assignments = this.state.assignments;\r\n\r\n            for (let i = 0; i < students.length; i++) {\r\n                let grade = {};\r\n                grade.userid = students[i];\r\n                grade.grades = [];\r\n                for (let j = 0; j < assignments.length; j++) {\r\n                    for (let k = 0; k < assignments[j].grades.length; k++) {\r\n                        console.log(students[i], assignments[j].grades[k].userid)\r\n                        if (students[i] === assignments[j].grades[k].userid) {\r\n                            grade.grades.push(assignments[j].grades[k].grade)\r\n                        }\r\n                    }\r\n                }\r\n                console.log(grade);\r\n                userGrades.push(grade);\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            data: userGrades\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"feedpage\" id=\"gradePage\">\r\n                <center>\r\n                    <h1>Gradebook for {this.props.selectedCourse.course_name}</h1>\r\n\r\n                    {this.props.userObj.is_instructor ?\r\n                        <div>\r\n\r\n                            <GradeTableInstructor data={this.state.data} selectedCourse={this.props.selectedCourse}></GradeTableInstructor>\r\n                        </div>\r\n                        :\r\n                        <div>\r\n\r\n                            <GradeTable data={this.state.data}></GradeTable>\r\n                        </div>\r\n                    }\r\n\r\n                </center>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GradesPage;","import React from \"react\";\r\n\r\nexport default class Assignment extends React.Component {\r\n    //style={{position:\"absolute\",left:\"10rem\"}}\r\n    state = {\r\n        assignmentid: this.props.assignmentid\r\n    }\r\n    render() {\r\n        return (\r\n            <tr key={this.props.key} style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                <td >{<div style={{ marginTop: \"1rem\",marginLeft:\".8rem\" }}>{this.props.assignment}</div>}</td>\r\n                <td >{<div style={{ marginTop: \"1rem\" }}>{this.props.duedate}</div>}</td>\r\n                <td >{<div style={{ marginTop: \".35rem\" }}>{this.props.didsubmit ? <button onClick={() => { this.props.showModal(this.state.assignmentid) }} style={{width:\"5rem\",marginLeft:\"0px\"}} className=\"postitembutton\" >Resubmit</button>:<button style={{width:\"5rem\",marginLeft:\"0px\"}} className=\"postitembutton\" onClick={() => { this.props.showModal(this.state.assignmentid) }}>Submit</button>}</div>}</td>\r\n                <td>{<div style={{ marginTop: \"1rem\" }}>{this.props.latestactivity}</div>}</td>\r\n            </tr>\r\n\r\n        )\r\n    }\r\n};","import React from \"react\";\r\n\r\nexport default class AssignmentProf extends React.Component {\r\n    //style={{position:\"absolute\",left:\"10rem\"}}\r\n    state = {\r\n        assignmentid: this.props.assignmentid\r\n    }\r\n    render() {\r\n        return (\r\n            <tr key={this.props.key} style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                \r\n                <td >{<div style={{ marginTop: \"1rem\",marginLeft:\".8rem\" }}>{this.props.assignment}</div>}</td>\r\n                <td >{<div style={{ marginTop: \"1rem\" }}>{this.props.duedate}</div>}</td>\r\n                <td >{<div style={{ marginTop: \".35rem\" }}><button style={{width:\"5rem\",marginLeft:\"0px\"}} onClick={() => this.props.showSubmissions(this.state.assignmentid)} className=\"postitembutton\" >View</button></div>}</td>\r\n            </tr>\r\n\r\n        )\r\n    }\r\n};","import React from \"react\";\r\n\r\nvar newgrade = null;\r\nexport default class SubmissionModal extends React.Component {\r\n    //style={{position:\"absolute\",left:\"10rem\"}}\r\n\r\n    state = {\r\n        currentgrades: [],\r\n    }\r\n\r\n    getGrades = () => {\r\n        console.log(this.props.assignments, this.props.assignmentid);\r\n    }\r\n    componentDidMount() {\r\n\r\n        //this.getGrades();\r\n        for (let i = 0; i < this.props.assignments.length; i += 1) {\r\n            if (this.props.assignments[i]._id === this.props.assignmentid) {\r\n                this.setState({\r\n                    currentgrades: this.props.assignments[i].grades\r\n                }, () => console.log(this.state.currentgrades))\r\n            }\r\n        }\r\n    }\r\n\r\n    updateGrade = (userid, date, content, oldgrade) => {\r\n        console.log(userid, date, content, oldgrade,newgrade,this.props.assignmentid, this.props.selectedCourse.course_name);\r\n        const url = '/courses/updategrade/' + this.props.selectedCourse.course_name;\r\n        let body;\r\n        if (newgrade === null) {\r\n            body = { userid: userid, assignmentid: this.props.assignmentid, grade: oldgrade, submit_date: date, submission_content: content };\r\n        } else {\r\n            body = { userid: userid, assignmentid: this.props.assignmentid, grade: newgrade, submit_date: date, submission_content: content };\r\n        }\r\n        fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'PUT',\r\n            body: JSON.stringify(body)\r\n        }).then(console.log(\"Grade updated Succesfully\"))\r\n            \r\n        newgrade = null;\r\n\r\n        this.props.updateEntries();\r\n\r\n\r\n    }\r\n    createntries = (entry) => {\r\n        return <tr key={this.props.key} style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n            <td >{<div style={{ marginTop: \".7rem\" }}>{entry.userid}</div>}</td>\r\n            <td >{<div style={{ marginTop: \".7rem\" }}>{entry.submit_date === \"\" ? \"N/A\" : entry.submit_date}</div>}</td>\r\n            <td >{<div style={{ marginTop: \".7rem\" }}>{entry.submission_content}</div>}</td>\r\n            <td>{<input style={{ marginTop: \".7rem\" }} defaultValue={entry.grade < 0 ? 0 : entry.grade} onChange={(event) => { newgrade = event.target.value }}  ></input>}</td>\r\n            <td><button className=\"postitembutton\" onClick={() => { this.updateGrade(entry.userid, entry.submit_date, entry.submission_content, entry.grade) }} style={{ width: \"4rem\" }} >Update</button></td>\r\n        </tr>\r\n\r\n    }\r\n\r\n    render() {\r\n        var JSONgrades = this.state.currentgrades;\r\n        var JSXgrades = JSONgrades.map(this.createntries)\r\n        return (\r\n            <div className=\"modal\" role=\"dialog\">\r\n                <div className=\"modal-content\">\r\n\r\n                    <div className=\"modal-header\">\r\n                        <p className=\"modal-title\">Submissions</p>\r\n                        <button className=\"btn btn-primary\" onClick={this.props.showSubmissions}>\r\n                            &times;</button>\r\n                    </div>\r\n                    <table className=\"table table-hover\">\r\n                        <thead className=\"thead-light\">\r\n                            <tr>\r\n                                <th>Student ID</th>\r\n                                <th>Date Submitted</th>\r\n                                <th>Content</th>\r\n                                <th>Grade</th>\r\n                                <th style={{ width: \"10rem\", paddingLeft: \"1.5rem\" }}>Update Grade</th>\r\n                            </tr>\r\n\r\n                        </thead>\r\n                        <tbody>\r\n                            {JSXgrades}\r\n\r\n                        </tbody>\r\n\r\n                    </table>\r\n\r\n\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n};","import React from \"react\";\r\nimport '../styles/FeedItem.css';\r\nimport Assignment from './Assignment.js'\r\nimport AssignmentProf from './AssignmentProf.js'\r\nimport SubmissionModal from './SubmissionModal.js'\r\nexport default class AssignmentsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            assignments: [],\r\n            createAssignment: false,\r\n            showModal: false,\r\n            showSubmissions: false,\r\n            curassignmentid: \"\",\r\n        };\r\n        // old assignment format assignment: \"Assignment 1\", duedate: \"11/18/2020 11:59 PM\", didsubmit: false, latestactivity: \"\"\r\n\r\n\r\n    }\r\n\r\n    updateGrade = async (e) => {\r\n        this.setState({\r\n            showModal: false\r\n        })\r\n        var submission_content = e.target[0].value;\r\n        e.preventDefault();\r\n        const url = '/courses/updategrade/' + this.props.selectedCourse.course_name;\r\n        let body = { userid: this.props.userObj.userid, assignmentid: this.state.curassignmentid, grade: -1, submit_date: '12/7/2020', submission_content: submission_content };\r\n        let res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'PUT',\r\n            body: JSON.stringify(body)\r\n        });\r\n        if (res.status == 200) { //successful account creation!\r\n            console.log(\"GRADE UPDATED\");\r\n            //this.props.done(\"New account created! Enter credentials to log in.\", false);\r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n            //this.props.done(resText, false);\r\n        }\r\n\r\n\r\n    }\r\n    showModal = (assignmentid) => {\r\n\r\n        this.setState({\r\n            curassignmentid: assignmentid\r\n        }, () => this.setState(prevstate => ({ showModal: !prevstate.showModal })))\r\n\r\n\r\n\r\n    }\r\n    showSubmissions = (assignmentid) => {\r\n\r\n        this.setState({\r\n            curassignmentid: assignmentid\r\n        })\r\n\r\n        this.setState(prevstate => ({ showSubmissions: !prevstate.showSubmissions }))\r\n    }\r\n\r\n    /*\r\n    const assignmentSchema = new Schema({\r\n        assignment_name: String,\r\n        assignment_content: String,\r\n        instructor: String,\r\n        due_date: Number,\r\n        grades: [gradeSchema] // each student will be:\r\n      \r\n      });\r\n      */\r\n    createAssignment = async (e) => {\r\n        var curClass = this.props.selectedCourse.course_name // name of currently selected class\r\n        var newGrades = []\r\n        var assignmentName = e.target[0].value;\r\n        var assignmentText = e.target[2].value;\r\n        var assignmentDue = e.target[1].value;\r\n        e.preventDefault();\r\n        let response = await fetch(\"/courses/\" + curClass);\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        var studentarray = obj.students;\r\n        for (const student in studentarray) {\r\n            newGrades.push({\r\n                userid: studentarray[student],\r\n                grade: -2, // -2 means didnt submit, -1 means did submit, anything >=0 is a grade\r\n                submission_content: \"\", // this is where we will store submissions\r\n                submit_date: \"\"\r\n            })\r\n        }\r\n        let assignmentData = {\r\n            assignment_name: assignmentName,\r\n            assignment_content: assignmentText,\r\n            instructor_id: this.props.userObj.userid,\r\n            due_date: assignmentDue,\r\n            grades: newGrades\r\n        }\r\n        const url = '/assignments/' + curClass; // should be \r\n        let res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'POST',\r\n            body: JSON.stringify(assignmentData)\r\n        });\r\n        if (res.status == 200) { //successful account creation!\r\n            this.updateEntries();\r\n            //this.props.done(\"New account created! Enter credentials to log in.\", false);\r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n        }\r\n\r\n\r\n\r\n    }\r\n    updateEntries = async () => {\r\n        let response = await fetch(\"/courses/\" + this.props.selectedCourse.course_name);\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        this.setState({\r\n            assignments: obj.assignments\r\n        });\r\n    }\r\n    createntries = (entry) => {\r\n        if (this.props.userObj.is_instructor === true) {\r\n            return <AssignmentProf showSubmissions={this.showSubmissions} assignmentid={entry._id} assignment={entry.assignment_name} duedate={entry.due_date} didsubmit={false} latestactivity={\"\"}></AssignmentProf>\r\n        } else {// will need to retrieve the grade object corresponding to assignment and student in the current class for didsubmit and latestactivity\r\n            return <Assignment showModal={this.showModal} assignmentid={entry._id} assignment={entry.assignment_name} duedate={entry.due_date} didsubmit={false} latestactivity={\"\"}></Assignment>\r\n        }\r\n\r\n    }\r\n    toggleCreate = (e) => {\r\n        this.setState(prevstate => ({ createAssignment: !prevstate.createAssignment }))\r\n    }\r\n    getAssignments = async () => {\r\n        if(this.props.selectedCourse != null){\r\n            let response = await fetch(\"/courses/\" + this.props.selectedCourse.course_name);\r\n            response = await response.json();\r\n            const obj = JSON.parse(response);\r\n            this.setState({assignments: obj.assignments});\r\n        }\r\n        \r\n        //return [{ assignment: \"Assignment 1\", duedate: \"11/18/2020 11:59 PM\", didsubmit: false, latestactivity: \"\" },\r\n        //{ assignment: \"Assignment 2\", duedate: \"11/23/2020 11:59 PM\", didsubmit: true, latestactivity: \"Submitted 11/18/2020 10:43 PM\" }]\r\n    }\r\n    componentDidMount = async () => {\r\n        // get most recent list of assignments\r\n        if(this.props.selectedCourse != null){\r\n        let response = await fetch(\"/courses/\" + this.props.selectedCourse.course_name);\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        this.setState({assignments: obj.assignments}, () => console.log(this.state.assignments, obj.assignments));\r\n        }\r\n\r\n    }\r\n\r\n    componentDidUpdate = async (prevProps, prevState) => { // updates current assignmentlist\r\n        if (prevProps.selectedCourse.course_name === this.props.selectedCourse.course_name) {\r\n            //do nothing\r\n        } else {\r\n\r\n            this.setState({\r\n                assignments: this.props.selectedCourse.assignments\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //this.getAssignments();\r\n        var JSONassignments = this.state.assignments;\r\n        var JSXassignments = JSONassignments.map(this.createntries)\r\n        return (\r\n            <div className=\"feedpage\" id=\"assignmentPage\">\r\n                <h1 style={{ margin: \"1.5rem\", fontSize: \"30px\" }}>Assignments</h1>\r\n                {\r\n                    this.state.showModal ?\r\n                        <div className=\"modal\" role=\"dialog\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <p className=\"modal-title\">Create Submission</p>\r\n                                    <button className=\"btn btn-primary\" onClick={this.showModal}>\r\n                                        &times;</button>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    <form onSubmit={this.updateGrade}>\r\n                                        <textarea style={{ width: \"90%\", height: \"500px\" }}></textarea>\r\n                                        <div className=\"modal-footer\">\r\n\r\n                                            <button type=\"submit\" className=\"btn btn-primary\" >\r\n                                                Submit</button>\r\n\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                        :\r\n                        null\r\n                }\r\n                {\r\n                    this.state.showSubmissions ?\r\n                        <SubmissionModal updateEntries={this.updateEntries} selectedCourse={this.props.selectedCourse} assignments={this.state.assignments} assignmentid={this.state.curassignmentid} showSubmissions={this.showSubmissions}></SubmissionModal>\r\n                        :\r\n                        null\r\n                }\r\n\r\n                {this.props.userObj.is_instructor ?\r\n                    <div>\r\n                        <button onClick={this.toggleCreate}>Create Assignment</button>\r\n                        {this.state.createAssignment ?\r\n                            <div>\r\n                                <form onSubmit={this.createAssignment}>\r\n                                    <input type=\"text\" name=\"assignmentName\" required={true} placeholder=\"Assignment Name\" />\r\n                                    <input type=\"text\" required={true} placeholder=\"Due: mm/dd/yyyy\" />\r\n                                    <textarea name=\"assignmentText\" type=\"text\" required={true} placeholder=\"Enter Assignment Details here...\"></textarea>\r\n                                    <button type=\"submit\" className=\"btn btn-primary\" >Create</button>\r\n                                </form>\r\n                            </div>\r\n                            :\r\n                            null\r\n                        }\r\n                        <table className=\"table table-hover\">\r\n                            <thead className=\"thead-light\">\r\n                                <tr>\r\n                                    <th style={{ width: \"25rem\", paddingLeft: \"1.5rem\" }}>Assignment</th>\r\n                                    <th>Due Date</th>\r\n                                    <th>View Submissions</th>\r\n                                </tr>\r\n\r\n                            </thead>\r\n                            <tbody>\r\n                                {JSXassignments}\r\n\r\n                            </tbody>\r\n\r\n                        </table>\r\n                    </div>\r\n                    :\r\n                    <table className=\"table table-hover\">\r\n                        <thead className=\"thead-light\">\r\n                            <tr>\r\n                                <th style={{ width: \"25rem\", paddingLeft: \"1.5rem\" }}>Assignment</th>\r\n                                <th>Due Date</th>\r\n                                <th>Actions</th>\r\n                                <th>Latest Activity</th>\r\n                            </tr>\r\n\r\n                        </thead>\r\n                        <tbody>\r\n                            {JSXassignments}\r\n\r\n                        </tbody>\r\n\r\n                    </table>\r\n                }\r\n\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n};","import React from 'react';\r\n\r\nclass AnalyticsPage extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"feedpage\" id=\"analyticsPage\">\r\n            <center>\r\n            <h1 >Analytics</h1>\r\n            <h2>This page is under construction.</h2>\r\n            <img src=\"osble2.png\" \r\n             height=\"200\" width=\"200\"/>\r\n            <p style={{fontStyle: \"italic\"}}>Version CptS 489 React Demo</p>\r\n            </center>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default AnalyticsPage;","import React from 'react';\r\nimport { async } from 'regenerator-runtime';\r\nimport AppMode from '../AppMode';\r\nimport '../styles/courseSettings.css';\r\n\r\nclass CourseSettingsPage extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n        prefix: \"\",\r\n        course_number: 0,\r\n        course_name: \"\",\r\n        term: \"\",\r\n        year: 0,\r\n        start_date: \"\",\r\n        end_date: \"\",\r\n        instructor: this.props.userObj.first_name + ' '+ this.props.userObj.last_name,\r\n        instructor_id: this.props.userObj.userid,\r\n        students: [],\r\n        posts: [],\r\n        assignments: []\r\n        }\r\n    }\r\n\r\n    updateCourse = async (event) => {\r\n//         course_name: String,\r\n//   instructor: String,\r\n//   students: [],// just an array of userid's for easy access\r\n//   posts: [postSchema],\r\n//   assignments: [assignmentSchema],\r\n       \r\n        \r\n        const url = '/courses/' + this.state.course_name + ' ' + this.state.course_number;\r\n        console.log(this.state);\r\n        let res;\r\n        console.log(this.state);\r\n        res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'POST',\r\n            body: JSON.stringify(this.state)\r\n        });\r\n        if (res.status == 201) { //successful account creation!\r\n            this.props.changeMode(AppMode.FEED);\r\n            this.props.loadCourses()\r\n            //this.props.done(\"New account created! Enter credentials to log in.\", false);\r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n            //this.props.done(resText, false);\r\n        }\r\n        \r\n    }\r\n\r\n    cancelReturnHomepage = async (event) => {\r\n        this.props.changeMode(AppMode.FEED);\r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        if (event.target.name == \"Prefix\") {\r\n            this.setState({ prefix: event.target.value });\r\n        }\r\n        else if (event.target.name == \"Course-Number\") {\r\n            this.setState({ course_number: event.target.value });\r\n        }\r\n        else if (event.target.name == \"Course-Name\") {\r\n            this.setState({ course_name: event.target.value });\r\n        }\r\n        else if (event.target.name == \"Course-Term\") {\r\n            this.setState({ term: event.target.value });\r\n        }\r\n        else if (event.target.name == \"Course-Year\") {\r\n            this.setState({ year: event.target.value });\r\n        }\r\n        else if (event.target.name == \"Start-Date\") {\r\n            this.setState({ start_date: event.target.value });\r\n        }\r\n\r\n        else if (event.target.name == \"End-Date\") {\r\n            this.setState({ end_date: event.target.value });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"feedpage\" id=\"courseSettingPage\">\r\n            <center>\r\n            <h1 >{this.props.createCourse?\"Create Course\":\"Update Course\"}</h1>\r\n            </center>\r\n            <label className=\"form-label-prefix\">\r\n                {/* Label for Prefix */}\r\n                Prefix\r\n                <input\r\n                autoComplete=\"on\"\r\n                className=\"form-control-form-text enterPrefix\"\r\n                name=\"Prefix\"\r\n                id=\"UniqueCoursePrefix\"\r\n                type=\"text\"\r\n                onChange={this.handleOnChange}\r\n                required={true}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseNumber */}\r\n                Course Number\r\n                <input\r\n                autoComplete=\"on\"\r\n                className=\"form-control-form-text enterCourseNumber\"\r\n                name=\"Course-Number\"\r\n                id=\"CourseNumber\"\r\n                type=\"text\"\r\n                onChange={this.handleOnChange}\r\n                required={true}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseName */}\r\n                Course Name\r\n                <input\r\n                autoComplete=\"on\"\r\n                className=\"form-control-form-text\"\r\n                name=\"Course-Name\"\r\n                id=\"CourseName\"\r\n                type=\"text\"\r\n                onChange={this.handleOnChange}\r\n                required={true}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseTerm */}\r\n                Term\r\n                <input\r\n                autoComplete=\"on\"\r\n                className=\"form-control-form-text\"\r\n                name=\"Course-Term\"\r\n                id=\"CourseTerm\"\r\n                type=\"text\"\r\n                onChange={this.handleOnChange}\r\n                required={true}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseYear */}\r\n                Year\r\n                <input\r\n                autoComplete=\"on\"\r\n                className=\"form-contorl-form-text\"\r\n                name=\"Course-Year\"\r\n                id=\"CourseYear\"\r\n                onChange={this.handleOnChange}\r\n                type=\"text\"\r\n                required={true}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseStartDate */}\r\n                Start Date\r\n                <input\r\n                className=\"form-control\"\r\n                name=\"Start-Date\"\r\n                onChange={this.handleOnChange}\r\n                id=\"CourseStartDate\"\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseEndDate */}\r\n                End Date\r\n                <input\r\n                className=\"form-control\"\r\n                name=\"End-Date\"\r\n                id=\"CourseEndDate\"\r\n                onChange={this.handleOnChange}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseTimeZone */}\r\n                Time zone\r\n                <input\r\n                name=\"Course-Time-Zone\"\r\n                id=\"CourseTimeZone\"\r\n                ></input> \r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseMeetingTimes */}\r\n                Meeting Times\r\n\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseBreaksAndHolidays */}\r\n                Holidays\r\n                <label>\r\n                    Allow students to reply to threads posted in activity feed\r\n                    <input\r\n                        name=\"Allow-Replies-To-Threads\"\r\n                        id=\"AllowRepliesToThreads\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseSettingCheckBoxes */}\r\n                Course Settings\r\n                <label>\r\n                    Allow students to post new threads in activity feed\r\n                    <input\r\n                        name=\"Post-New-Threads\"\r\n                        id=\"PostNewThreads\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Allow students to reply to threads posted in activity feed\r\n                    <input\r\n                        name=\"Students-Reply-To-Threads\"\r\n                        id=\"ReplyToThreads\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Allow students to post events in course calendar\r\n                    <input\r\n                        name=\"Students-Post-Events\"\r\n                        id=\"StudentsPostEvents\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Require an instructor to approve students(s) calendar events before they appear in the course calendar\r\n                    <input\r\n                        name=\"Instructor-Approve-Event\"\r\n                        id=\"InstructorApproveEvent\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Course is inactive(only instrutors/observers can log in)\r\n                    <input\r\n                        name=\"Course-Is-Inactive\"\r\n                        id=\"CourseIsInactive\"\r\n                        type=\"checkbox\" \r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Hide the OSBLE Mail icons for this course\r\n                    <input\r\n                        name=\"Hide-Osble-Mail\"\r\n                        id=\"HideOsbleMail\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Set course as a 'programming' oriented course\r\n                    <input\r\n                        name=\"Programming-Oriented\"\r\n                        id=\"ProgrammingOriented\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Amount of weeks into the future to show events in calendar\r\n                    <input\r\n                    name=\"Show-Weeks-Into-Future\"\r\n                    id=\"ShowWeeksIntoFuture\"\r\n                    type=\"text\"\r\n                    ></input>\r\n                </label>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseLatePolicy */}\r\n                Late Policy\r\n                <label>\r\n                    Students may submit assignments up to\r\n                    <input\r\n                    className=\"Late-Assignment-Limit\"\r\n                    id=\"LateAssignmentLimit\"\r\n                    ></input>\r\n                </label>\r\n                <label>\r\n                    minutes late at no penalty, after which a penalty of\r\n                    <input\r\n                    className=\"Late-Assignment-Penalty\"\r\n                    id=\"LateAssignmentPenalty\"\r\n                    ></input>\r\n                </label>\r\n                <label>\r\n                    percent per\r\n                    <input\r\n                    className=\"Late-Assignment-Penalty-Percentage\"\r\n                    id=\"LateAssignmentPenaltyPecentage\"\r\n                    ></input>\r\n                </label>\r\n                <label>\r\n                    hour late will be applied. Assignments that submitted more than\r\n                    <input\r\n                    className=\"Max-Late-Assignment-Limit\"\r\n                    id=\"MaxLateAssignmentLimit\"\r\n                    ></input>\r\n                </label>\r\n                <label>\r\n                    hours after the due date and time will recive an automatic 0.\r\n                </label>\r\n            </label>\r\n            <br></br>\r\n            {/* Button for updating course */}\r\n            <button\r\n            className=\"Comfirmation-Update-Course-Btn\"\r\n            role=\"submit\"\r\n            id=\"ComfirmUpdateCourseBtn\"\r\n            type=\"submit\"\r\n            color=\"#191970\"\r\n            onClick={this.props.userObj.is_instructor == true? this.updateCourse:null}\r\n        >{this.props.createCourse ? \"Create Course\":\"Update Course\"}</button>\r\n            \r\n            {/* Button for canceling changes and returning to homepage */}\r\n            <button\r\n            className=\"Return-To-Homepage-Btn\"\r\n            role=\"submit\"\r\n            id=\"ReturnToHomepageBtn\"\r\n            type=\"submit\"\r\n            color=\"#191970\"\r\n            onClick={this.cancelReturnHomepage}\r\n            >Return to Homepage</button>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default CourseSettingsPage;","import React from 'react'\r\n\r\nexport default class UsersList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { showConfirmDelete: false };\r\n        \r\n    }\r\n    editUser = (id) => {\r\n        this.props.setEditId(id);\r\n        //this.props.changeMode(AppMode.ROUNDS_EDITROUND);\r\n    }\r\n\r\n\r\n    deleteUser = () => {\r\n        this.props.deleteUser();\r\n        this.setState({ showConfirmDelete: false });\r\n    }\r\n\r\n\r\n    //confirmDelete -- Triggered when the user clicks the delete button\r\n    //for a given round. The id paam is the unique property that \r\n    //identifies the round. Set the state variable representing the id\r\n    //of the round to be deleted and then present a dialog box asking\r\n    //the user to confirm the deletion.\r\n    confirmDelete = (id) => {\r\n        this.props.setDeleteId(id);\r\n        this.setState({ showConfirmDelete: true });\r\n    }\r\n    renderTable = () => {\r\n        let table = [];\r\n        if (!this.props.data)\r\n        {\r\n            return table\r\n        }\r\n        for (let r = 0; r < this.props.data.length; ++r) {\r\n            table.push(\r\n                <tr key={r}>\r\n                    \r\n                    <td>{this.props.data[r].userid}</td>\r\n                    <td>{this.props.data[r].first_name+ \" \" + this.props.data[r].last_name}</td>\r\n                    <td>{this.props.data[r].email}</td>\r\n                    \r\n                    <td><button onClick={this.props.menuOpen ? null :\r\n                        () => this.confirmDelete(r)}>\r\n                        <span className=\"fa fa-trash\"></span></button></td>\r\n                </tr>\r\n            );\r\n        }\r\n        return table;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div >\r\n                <h2>{this.props.type}</h2>\r\n                <table className=\"table table-hover\">\r\n                    <thead className=\"thead-light\"><tr>\r\n                        <th>ID </th>\r\n                        <th>Name </th>\r\n                        <th>Email</th>\r\n                        <th>Remove</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>{this.renderTable()}</tbody>\r\n\r\n                </table>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport AppMode from './../AppMode.js';\r\n\r\nclass UserForm extends React.Component {\r\n  constructor(props) {\r\n  super(props);\r\n  //Create date object for today, taking time zone into consideration\r\n  \r\n  //store date as ISO string\r\n  if (this.props.mode === AppMode.USERS_LOGUSER || this.props.mode === AppMode.USERS ) {\r\n    //If logging a new round, the starting state is a default round with\r\n    //today's date.\r\n    this.state = { \r\n                  sId: \"\",\r\n                  role: \"student\",\r\n                  class: this.props.selectedCourse.course_name,\r\n                  \r\n                  faIcon: \"fa fa-save\",\r\n                  btnLabel: \"Save User Data\"}\r\n  } else {\r\n    //if editing an existing round, the starting state is the round's\r\n    //current data\r\n    let thisUser = {...this.props.startData};\r\n    //delete thisUser.id;\r\n    thisUser.faIcon = \"fa fa-edit\";\r\n    thisUser.btnLabel = \"Update user Data\";\r\n    this.state = thisUser;\r\n  }\r\n}\r\n  \r\n  \r\n    handleChange = (event) => {\r\n        const name = event.target.name;\r\n        \r\n        this.setState({[name]: event.target.value});\r\n    }\r\n  \r\n  \r\n    //handleSubmit -- When the user clicks on the button to save/update the\r\n    //round, start the spinner and invoke the parent component's saveRound\r\n    //method to do the actual work. Note that saveRound is set to the correct\r\n    //parent method based on whether the user is logging a new round or editing\r\n    //an existing round.\r\n    handleSubmit = (event) => {\r\n        //start spinner\r\n        this.setState({faIcon: \"fa fa-spin fa-spinner\",\r\n                        btnLabel: (this.props.mode === AppMode.USERS_LOGUSER ? \r\n                                    \"Saving...\" : \"Updating...\")});\r\n        //Prepare current round data to be saved\r\n        let userData = this.state;\r\n        delete userData.faIcon;\r\n        delete userData.btnLabel;\r\n        //call saveRound on 1 second delay to show spinning icon\r\n        setTimeout(this.props.saveUser,1000,userData); \r\n        event.preventDefault(); \r\n        }\r\n  \r\n\r\n    \r\n  \r\n    render() {\r\n      return (\r\n        <form className=\"padded-page\" onSubmit={this.handleSubmit}>\r\n          <center>\r\n            \r\n            <p></p>\r\n            <label>\r\n              Student ID:\r\n              <input name=\"sId\" className=\"form-control form-center\" type=\"text\"\r\n                value={this.state.sId} onChange={this.handleChange}\r\n                placeholder=\"Student ID or email\" size=\"50\" maxLength=\"50\" />\r\n            </label>\r\n          <p></p>\r\n          <label>Class:\r\n          <select name=\"class\" value={this.state.class} \r\n            className=\"form-control form-center\" onChange={this.handleChange}>\r\n            <option value=\"1\">{this.state.class}</option>\r\n            \r\n          </select> \r\n          </label>\r\n          <p></p>\r\n          <label>Role:\r\n          <select name=\"role\" value={this.state.role} \r\n            className=\"form-control form-center\" onChange={this.handleChange}>\r\n            \r\n            <option value=\"student\">Student</option>\r\n          </select> \r\n          </label>\r\n          \r\n          <p></p>\r\n          <button type=\"submit\" style={{width: \"70%\",fontSize: \"36px\"}} \r\n            className=\"btn btn-primary btn-color-theme\">\r\n              <span className={this.state.faIcon}/>&nbsp;{this.state.btnLabel}\r\n          </button>\r\n          </center>\r\n        </form>\r\n      );\r\n    }\r\n}\r\n\r\nexport default UserForm;","import React from 'react';\r\nimport UsersList from './UsersList.js'\r\nimport UserForm from './UserForm.js'\r\nimport AppMode from './../AppMode.js';\r\nclass UsersPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: []\r\n\r\n        }\r\n\r\n        this.deleteId = \"\";\r\n        this.deleteRole = \"\";\r\n        this.editId = \"\";\r\n        this.editRole = \"\";\r\n        this.state = { errorMsg: \"\" };\r\n        this.getUserLists = this.getUserLists.bind(this);\r\n    }\r\n    componentDidMount = async () => {\r\n        // get most recent list of assignments\r\n        this.getUsers();\r\n\r\n    }\r\n    componentDidUpdate = async (prevProps, prevState) => { // updates current assignmentlist\r\n        if (prevProps.selectedCourse.course_name === this.props.selectedCourse.course_name) {\r\n            //do nothing\r\n        } else {\r\n\r\n            this.getUsers();\r\n        }\r\n        \r\n    }\r\n\r\n    addUser = async (e) => {\r\n        var course_name = this.props.selectedCourse.course_name;\r\n        var userid = e.sId;\r\n\r\n        console.log(course_name, userid);\r\n\r\n        const url = '/courses/' + this.props.selectedCourse.course_name + '/addUser/' + userid;\r\n\r\n        let res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'PUT'\r\n\r\n        });\r\n\r\n        console.log(res.status)\r\n        if (res.status === 200) { //successful account creation!\r\n\r\n            this.props.changeMode(AppMode.FEED)\r\n\r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n            //this.props.done(resText, false);\r\n        }\r\n        //this.setState({ posts: newposts });\r\n\r\n    }\r\n    //setDeleteId -- Capture in this.state.deleteId the unique id of the item\r\n    //the user is considering deleting.\r\n    setDeleteId = (val, role) => {\r\n        this.deleteId = val;\r\n        this.deleteRole = role;\r\n        this.setState({ errorMsg: \"\" });\r\n    }\r\n\r\n    //setEditId -- Capture in this.state.editId the unique id of the item\r\n    //the user is considering editing.\r\n    setEditId = (val, role) => {\r\n        this.editId = val;\r\n        this.editRole = role;\r\n        this.setState({ errorMsg: \"\" });\r\n    }\r\n    getUsers = async () => {\r\n        var students = this.props.selectedCourse.students;\r\n        let data = [];\r\n        for (let i = 0; i < students.length; i++) {\r\n            let response = await fetch(\"/users/\" + students[i]);\r\n            response = await response.json();\r\n            const obj = JSON.parse(response);\r\n            data.push(obj);\r\n        }\r\n        this.setState({users: data});\r\n    }\r\n    editUser = async (newData) => {\r\n        /*  const url = '/rounds/' + this.props.userObj.id + '/' + \r\n             this.props.userObj.rounds[this.editId]._id;\r\n         const res = await fetch(url, {\r\n             headers: {\r\n                 'Accept': 'application/json',\r\n                 'Content-Type': 'application/json'\r\n                 },\r\n             method: 'PUT',\r\n             body: JSON.stringify(newData)}); \r\n         const msg = await res.text();\r\n         if (res.status != 200) {\r\n             this.setState({errorMsg: msg});\r\n             this.props.changeMode(AppMode.ROUNDS);\r\n         } else {\r\n             this.props.refreshOnUpdate(AppMode.ROUNDS);\r\n         } */\r\n    }\r\n    deleteUser = async () => {\r\n        /* const url = '/rounds/' + this.props.userObj.id + '/' + \r\n            this.props.userObj.rounds[this.deleteId]._id;\r\n        const res = await fetch(url, {method: 'DELETE'}); \r\n        const msg = await res.text();\r\n        if (res.status != 200) {\r\n            this.setState({errorMsg: \"An error occurred when attempting to delete round from database: \" \r\n            + msg});\r\n            this.props.changeMode(AppMode.ROUNDS);\r\n        } else {\r\n            this.props.refreshOnUpdate(AppMode.ROUNDS);\r\n        }   */\r\n    }\r\n\r\n\r\n\r\n    getUserLists = function () {\r\n        var roles = Object.keys(this.state.data);\r\n        var classData = this.state.data;\r\n        return roles.map((role, index) => {\r\n            return <UsersList data={classData[role]}\r\n                type={role}\r\n                setEditId={this.setEditId}\r\n                setDeleteId={this.setDeleteId}\r\n                deleteRound={this.deleteRound}\r\n                changeMode={this.props.changeMode}\r\n                menuOpen={this.props.menuOpen} />\r\n\r\n        })\r\n    }\r\n    render() {\r\n        switch (this.props.mode) {\r\n            case AppMode.USERS:\r\n                return (\r\n                    <>\r\n                        {/* {this.state.errorMsg != \"\" ? <div className=\"status-msg\"><span>{this.state.errorMsg}</span>\r\n                            <button className=\"modal-close\" onClick={this.closeErrorMsg}>\r\n                                <span className=\"fa fa-times\"></span>\r\n                            </button></div> : null}\r\n                        <h1> Roster</h1>\r\n\r\n\r\n                        <div id=\"add_update_users\" style={{ display: 'block' }}>\r\n                            <h4>\r\n                                Add Single User\r\n                        </h4>\r\n                        <div>\r\n                        <button onClick={ () =>\r\n                        this.props.changeMode(AppMode.USERS_LOGUSER)} > Add User</button>\r\n            </div>\r\n                        </div>*/}\r\n\r\n                        \r\n                        <UsersList data={this.state.users}\r\n                            type=\"Students\"\r\n                            setEditId={this.setEditId}\r\n                            setDeleteId={this.setDeleteId}\r\n                            deleteUser={this.deleteUser}\r\n                            changeMode={this.props.changeMode}\r\n                            menuOpen={this.props.menuOpen} /> \r\n                        <button onClick={() =>\r\n                            this.props.changeMode(AppMode.USERS_LOGUSER)} > Add User by ID </button>\r\n                        {/* <UserForm\r\n                        mode={this.props.mode}\r\n                        startData={{}}\r\n                        saveUser={this.addUser}\r\n                        selectedCourse = {this.props.selectedCourse} /> */}\r\n            \r\n                    </>\r\n                );\r\n            case AppMode.USERS_LOGUSER:\r\n                return (\r\n                    <UserForm\r\n                        mode={this.props.mode}\r\n                        startData={{}}\r\n                        saveUser={this.addUser}\r\n                        selectedCourse={this.props.selectedCourse} />\r\n                );\r\n            case AppMode.USERS_EDITUSER:\r\n                let thisUser = this.data[this.editRole][this.editId];\r\n                console.log(thisUser);\r\n                return (\r\n                    <UserForm\r\n                        mode={this.props.mode}\r\n                        startData={thisUser}\r\n                        saveUser={this.editUser}\r\n                        selectedCourse={this.props.selectedCourse} />\r\n                );\r\n\r\n            /* return (\r\n                <UserForm\r\n                    mode={this.props.mode}\r\n                    startData={thisUser}\r\n                    saveUser={this.editUser} />\r\n            ); */\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport default UsersPage;","import React from 'react';\r\nclass HelpPage extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"feedpage\" id=\"helpPage\">\r\n            <h1 className=\"help-header\">Help</h1>\r\n            &emsp;OSBLE contains the following help articles:\r\n            <br/>\r\n            <h2 className=\"help-sub-header\">Managing Course and Users</h2>\r\n            <u1>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/CreateCourse\">creating a New Course</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org//Help/AddingStudents\">Adding students to a course</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org//Help/AddingOthers\">Adding TAs or moderators to a course</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org//Help/RosterGuide\">Managing your Course Roster</a></li>\r\n            </u1>\r\n            <h2 className=\"help-sub-header\">Creating Assignments</h2>\r\n            <u1>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/CreateBasicAssignment\">Creating basic assignments</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/CreateReviewAssignment\">Creating a review assignment</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/CreateReviewDiscussion\">Creating review discussion assignments</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/CreateRubric\">Creating a Rubric</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/UsingTeamBuilder\">Using the Team Builder</a></li>\r\n                \r\n            </u1>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default HelpPage;\r\n","import React from 'react'\r\n// Code from https://medium.com/@subalerts/create-dynamic-table-from-json-in-react-js-1a4a7b1146ef\r\nexport default class GradeTable extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var items = this.props.data;\r\n        return items.map((row, index) => {\r\n            return <RenderRow key={index} data={row} />\r\n        })\r\n\r\n    }\r\n    renderTable = () => {\r\n        let table = [];\r\n        for (let r = 0; r < this.props.data.length; ++r) {\r\n            table.push(\r\n                <tr key={r}>\r\n                    <td>{this.props.data[r].date.substring(0, 10)}</td>\r\n                    <td>{this.props.data[r].senderId}</td>\r\n                    <td>{this.props.data[r].subject}</td>\r\n\r\n\r\n                </tr>\r\n            );\r\n        }\r\n        return table;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"padded-page\">\r\n                <table className=\"table table-hover\">\r\n                    <thead className=\"thead-light\">\r\n                        <tr>\r\n                            <th class=\"inbox_time_header\">Date:</th>\r\n                            <th class=\"inbox_from_header\">From:</th>\r\n                            <th class=\"inbox_subject_header\">Subject:</th>\r\n                        </tr>\r\n\r\n                    </thead>\r\n                    <tbody>\r\n                        {Object.keys(this.props.data).length === 0 ?\r\n                            <tr>\r\n                                <td colSpan=\"5\" style={{ fontStyle: \"italic\" }}>Inbox Empty</td>\r\n                            </tr> : this.renderTable()\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst RenderRow = (props) => {\r\n\r\n\r\n    return <tr key={props.key}>\r\n        <td>{props.data.date}</td>\r\n        <td>{props.data.senderId}</td>\r\n        <td>{props.data.subject}</td>\r\n    </tr>\r\n\r\n}\r\n","import React from 'react';\r\nimport MailTable from './MailTable'\r\n\r\nclass MailPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            inbox : [{id\r\n                :\r\n                \"1\",\r\n                senderId\r\n                :\r\n                \"john@wsu.edu\",\r\n                recId\r\n                :\r\n                \"sean@wsu.edu\",\r\n                subject\r\n                :\r\n                \"test\",\r\n                date\r\n                :\r\n                Date(\"1995-12-17T11:24:00.000+00:00\"),\r\n                message\r\n                :\r\n                \"yo cmon pls\"}],\r\n            outbox : [],\r\n            mode : \"inbox\"\r\n\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div id =\"mailpage\" className=\"feedpage\">\r\n                <center>\r\n                    <h1 >Inbox</h1>\r\n                    <div class=\"btn-group\" id=\"mail_menu\">\r\n                        <a class=\"btn btn-primary\" >Compose</a>\r\n                        <a class=\"btn btn-primary\" >Inbox</a>\r\n                        <a class=\"btn btn-primary\" >Outbox</a>\r\n                        <input id=\"FormSubmitButton\" type=\"submit\" class=\"btn btn-primary\" disabled=\"disabled\" value=\"Delete\" />\r\n                    </div>\r\n                    <div class=\"MailContent\">\r\n\r\n                        <MailTable data = {this.state.inbox}/>\r\n                    </div>\r\n                </center>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MailPage;","import React from 'react';\r\nimport AppMode from '../AppMode';\r\nclass ProfilePage extends React.Component {\r\n\r\n    switchToEdit=()=>{\r\n        this.props.changeMode(AppMode.USER_SETTINGS);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div id=\"profilePage\" className=\"feedpage\">\r\n            <div className=\"profile-area\">\r\n                {/* The image and userID will be changed once we have a database set up */}\r\n                <div class=\"left-profile\">\r\n                    <img src=\"osble2.png\" height='200' width='200'></img>\r\n                </div>\r\n                <div class=\"right-profile\">\r\n                    <h1 id=\"userID\" className=\"profile-userID\" style={{fontSize:\"75px\"}}>John Ye\r\n                        <table>\r\n                            <tr>\r\n                                <td style={{fontSize:\"20px\"}}><strong>0</strong> post(s)</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style={{fontSize:\"20px\"}}><strong>0</strong> comment(s)</td>\r\n                            </tr>\r\n                        </table>\r\n                    </h1>\r\n                </div>\r\n                <div class=\"profile-button-area\">\r\n                    <button id=\"edit\" className=\"profile-btn-icon\" onClick={this.switchToEdit}>Edit<span class=\"fa fa-pencil\"></span></button>\r\n                </div>\r\n            </div>\r\n            <p></p>\r\n            <p>\r\n                <h3 className=\"profile-info\" stype={{fontSize:\"50\"}}>Recent Social Activity</h3>\r\n            </p>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default ProfilePage;","import React from 'react';\r\nimport { async } from 'regenerator-runtime';\r\nimport AppMode from '../AppMode.js';\r\n\r\nclass DeleteCoursePage extends React.Component {\r\n\r\n\r\n    deleteCourse = async (event) => {\r\n        alert(\"Course succesfully deleted\");\r\n        this.props.changeMode(AppMode.FEED);\r\n    }\r\n\r\n    cancelDeleteCourse = async (event) => {\r\n        this.props.changeMode(AppMode.FEED);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"feedpage\">\r\n            <center>\r\n            <h1 >Delete Course</h1>\r\n            <h2>You are about to delete the course titled \"Class Input Here\". Deleting a course is permanent and cannot be undone. Any assignments, submissions, grades, and event data associated with this course will also be removed from the system. If you would like to continue, please click the \"Continue\" button below.</h2>\r\n            </center>\r\n            <center>\r\n            <label className=\"form-deletion-comfirmation-label\">\r\n                {/* Label for ComfirmDeleteCourseBtn */}\r\n                <button\r\n                className=\"Comfirmation-Deletion-Btn\"\r\n                role=\"submit\"\r\n                id=\"ComfirmDeletionOfCourseBtn\"\r\n                type=\"submit\"\r\n                color=\"#191970\"\r\n                onClick={this.deleteCourse}\r\n                >Delete</button>\r\n            </label>\r\n            <label>\r\n                {/* Label for CancelDeleteCourseBtn */}\r\n                <button\r\n                className=\"Cancel-Deletion-Btn\"\r\n                role=\"submit\"\r\n                id=\"CancelDeletionOfCourseBtn\"\r\n                type=\"submit\"\r\n                color=\"#191970\"\r\n                onClick={this.cancelDeleteCourse}\r\n                >Cancel</button>\r\n            </label>\r\n            </center>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nfunction deleteCourse() {\r\n    alert(\"Course successfully deleted\");    \r\n    this.props.changeMode(AppMode.FEED);\r\n}\r\n\r\nexport default DeleteCoursePage;","import React from \"react\";\r\n\r\nexport default class Course extends React.Component {\r\n    \r\n\r\n\r\n    addStudent = (id) =>{\r\n        console.log(id);\r\n\r\n    }\r\n    //style={{position:\"absolute\",left:\"10rem\"}}\r\n    render() {\r\n        return (\r\n            <tr key={this.props.key} style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                <td><button className=\"postitembutton\"  onClick={() =>this.addStudent(this.props.key)}>+</button></td>\r\n                <td >{<div style={{ marginTop: \".7rem\" }}>{this.props.coursename}</div>}</td>\r\n                <td >{<div style={{ marginTop: \".7rem\" }}>{this.props.coursenumber}</div>}</td>\r\n                <td >{<div style={{ marginTop: \".7rem\" }}>{this.props.semester}</div>}</td>\r\n                <td>{<div style={{ marginTop: \".7rem\" }}>{this.props.instructor}</div>}</td>\r\n            </tr>\r\n\r\n        )\r\n    }\r\n};","import React from 'react';\r\nimport { async } from 'regenerator-runtime';\r\nimport Course from './Course.js'\r\nclass FindCoursePage extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.loadCourse();\r\n        this.state = {\r\n            courses: []\r\n        };\r\n\r\n    }\r\n\r\n    loadCourse = async () =>{\r\n        let response = await fetch(\"/courses/\");\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        var index = 0;\r\n        let courses = [...this.state.courses];\r\n        for(index; index<obj.length; index++){\r\n            courses.push({coursename: obj[index].course_name, coursenumber: obj[index].prefix + ' '+ obj[index].course_number,\r\n                        semester: obj[index].term, instructor: obj[index].instructor,instructor_id :obj[index].instructor_id})\r\n        }\r\n\r\n        this.setState({courses: courses});\r\n        \r\n    }\r\n    createntries = (entry) => {\r\n        return <Course coursename={entry.coursename} coursenumber={entry.coursenumber} semester={entry.semester} instructor={entry.instructor}></Course>\r\n    }\r\n\r\n    addStudent = (index) =>{\r\n        if(this.props.userObj.userid != this.state.courses.instructor_id){\r\n            this.updateEnrolledStudents(this.state.courses[index].coursename);\r\n            this.props.loadCourses();\r\n        }\r\n\r\n    }\r\n\r\n    updateEnrolledStudents = async(course_name) =>{\r\n\r\n        const url = '/courses/' + course_name+'/addUser/'+ this.props.userObj.userid;\r\n        \r\n        let res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'PUT'\r\n            \r\n        }); \r\n        if (res.status == 200) { //successful account creation!\r\n       \r\n        } else { //Unsuccessful account update\r\n            //Grab textual error message\r\n           \r\n        }\r\n\r\n    }\r\n\r\n    renderTable = () => {\r\n        let table = [];\r\n        for (let r = 0; r < this.state.courses.length; ++r) {\r\n          table.push(\r\n            <tr key={r}>\r\n              <td id={\"userAdmin\"+r}><button className=\"postitembutton\"  onClick={() =>this.addStudent(r)} >+</button></td>\r\n              <td id={\"findCourse-CourseName\"+r} style={{ marginTop: \".7rem\" }}>{this.state.courses[r].coursename}</td>\r\n              <td id={\"findCourse-CourseNumber\"+r} style={{ marginTop: \".7rem\" }}>{this.state.courses[r].coursenumber}</td>\r\n              <td id={\"findCourse-CourseTerm\"+r} style={{ marginTop: \".7rem\" }}>{this.state.courses[r].semester}</td>\r\n              <td id={\"findCourse-CourseInstructor\"+r} style={{ marginTop: \".7rem\" }}>{this.state.courses[r].instructor}</td>\r\n            </tr> \r\n          );\r\n        }\r\n        return table;\r\n        }\r\n      \r\n        //render--render the entire rounds table with header, displaying a \"No\r\n        //Rounds Logged\" message in case the table is empty.\r\n        render() {\r\n          return(\r\n          <div className=\"padded-page\" id=\"adminPage\">\r\n            <h1 style={{ margin: \"1.5rem\", fontSize: \"30px\" }}>Search For Courses</h1>\r\n            <table className=\"table table-hover\">\r\n              <thead className=\"thead-light\">\r\n              <tr>\r\n                <th>Join</th>\r\n                <th>Course Name</th>\r\n                <th>Course Number</th>\r\n                <th>Semester</th>\r\n                <th>Instructor</th>\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n                {Object.keys(this.state.courses).length === 0 ? \r\n                <tr>\r\n                <td colSpan=\"5\" style={{fontStyle: \"italic\"}}>No courses found</td>\r\n                </tr> : this.renderTable()\r\n                }\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          );\r\n        }\r\n\r\n    // render() {\r\n    //     var JSONcourses = this.state.courses;\r\n    //     var JSXcourses = JSONcourses.map(this.createntries)\r\n    //     return (\r\n    //         <div className=\"feedpage\">\r\n    //             <h1 style={{ margin: \"1.5rem\", fontSize: \"30px\" }}>Search For Courses</h1>\r\n    //             <table className=\"table table-hover\">\r\n    //                 <thead className=\"thead-light\">\r\n    //                     <tr>\r\n    //                         <th style={{width:\"7rem\",paddingLeft:\"1.5rem\"}}>Join</th>\r\n    //                         <th>Course Name</th>\r\n    //                         <th>Course Number</th>\r\n    //                         <th>Semester</th>\r\n    //                         <th>Instructor</th>\r\n    //                     </tr>\r\n                        \r\n    //                 </thead>\r\n    //                 <tbody>\r\n    //                     {JSXcourses}\r\n                        \r\n    //                 </tbody>\r\n                    \r\n    //             </table>\r\n                \r\n    //         </div>\r\n    //     );\r\n    // }\r\n}\r\n\r\nexport default FindCoursePage;","import React from 'react';\r\nimport AppMode from '../AppMode';\r\nclass UserSettingsPage extends React.Component {\r\n    handleSubmit =() =>{\r\n        this.props.changeMode(AppMode.PROFILE);\r\n    }\r\n    render() {\r\n        return (\r\n        <div id='settingPage' className=\"feedpage\">\r\n            <center>\r\n            <h2 className=\"setting-header\">User Settings<span className=\"fa fa-question-circle\"></span></h2>\r\n            </center>\r\n            <div className=\"modal-body\">\r\n            <form onSubmit={this.handleSubmit}>\r\n                <label>\r\n                    First Name:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"firstName\"\r\n                    size=\"30\"\r\n                    placeholder=\"First Name\"\r\n                    type=\"text\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Last Name:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"lastName\"\r\n                    size=\"30\"\r\n                    placeholder=\"Last Name\"\r\n                    type=\"text\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <p></p>\r\n                <button id = \"changeNameButton\" className=\"profileSubmitButton\" onClick={this.handleSubmit}>Change Name</button>\r\n                <br/>\r\n\r\n                <h2 className=\"setting-header\">Reset Email<span className=\"fa fa-question-circle\"></span></h2>\r\n                <label>\r\n                    Email:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"firstName\"\r\n                    size=\"30\"\r\n                    placeholder=\"Enter New Email\"\r\n                    type=\"email\"\r\n                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Repeat Email:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"email\"\r\n                    size=\"30\"\r\n                    placeholder=\"Verify New Email\"\r\n                    type=\"email\"\r\n                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <p></p>\r\n                <button className=\"profileSubmitButton\" onClick={this.handleSubmit}>Change Email</button>\r\n                <br/>\r\n\r\n                <h2 className=\"setting-header\">Change School ID<span className=\"fa fa-question-circle\"></span></h2>\r\n                <label>\r\n                    School ID:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"schoolID\"\r\n                    size=\"30\"\r\n                    placeholder=\"Enter School ID\"\r\n                    type=\"number\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Repeat School ID:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"schoolID\"\r\n                    size=\"30\"\r\n                    placeholder=\"Verify School ID\"\r\n                    type=\"number\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <p></p>\r\n                <button className=\"profileSubmitButton\" onClick={this.handleSubmit}>Change ID</button>\r\n                <br/>\r\n            \r\n                <h2 className=\"setting-header\">Reset Password<span className=\"fa fa-question-circle\"></span></h2>\r\n                <label>\r\n                    Current Password:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"password\"\r\n                    size=\"30\"\r\n                    placeholder=\"Enter Current Password\"\r\n                    type=\"password\"\r\n                    pattern=\r\n                     \"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n                    />\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    New Password:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"password\"\r\n                    size=\"30\"\r\n                    placeholder=\"Enter New Password\"\r\n                    type=\"password\"\r\n                    pattern=\r\n                     \"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Repeat New Password:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"password\"\r\n                    size=\"30\"\r\n                    placeholder=\"Verify New Password\"\r\n                    type=\"password\"\r\n                    pattern=\r\n                     \"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <p></p>\r\n                <button className=\"profileSubmitButton\" onClick={this.handleSubmit}>Change Password</button>\r\n                <br/>\r\n                \r\n                <h2 className=\"setting-header\">Change Profile Picture<span className=\"fa fa-question-circle\"></span></h2>\r\n                <label>\r\n                    <p></p>\r\n                    Current Profile Picture:\r\n                    <img src=\"osble2.png\" height=\"60\" width=\"60\"/>\r\n                    <input\r\n                     className=\"form-control form-text form-center\"\r\n                     name=\"profilePic\"\r\n                     type=\"file\"\r\n                     accept=\"image/x-png,image/gif,image/jpeg\" \r\n//                     ref={this.profilePicRef}\r\n//                     value={this.state.profilePic}\r\n//                     onChange={this.handleChange}\r\n                     />\r\n                </label>\r\n                <p></p>\r\n                <button className=\"profileSubmitButton\" onClick={this.handleSubmit}>Change Picture</button>\r\n            </form>\r\n            </div>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default UserSettingsPage;","import React from 'react';\r\nimport { async } from 'regenerator-runtime';\r\nimport AppMode from \"./../AppMode.js\"\r\nclass Admin extends React.Component {\r\n\r\n    constructor() {\r\n      super();\r\n      this.loadUsers();\r\n      this.state = {users:[],\r\n          showConfirmDelete: false};\r\n    }\r\n\r\n    loadUsers = async () =>{\r\n      console.log(\"Loading all users to admin page...\")\r\n        let response = await fetch(\"/users/\");\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        var index = 0;\r\n        let users = [];\r\n        for(index; index<obj.length; index++){\r\n            users.push({first_name: obj[index].first_name,\r\n                        last_name: obj[index].last_name,\r\n                        userid: obj[index].userid,\r\n                        email: obj[index].email,\r\n                        is_instructor: obj[index].is_instructor,\r\n                        school: obj[index].school,\r\n                        is_admin: obj[index].is_admin,\r\n                        password: obj[index].password,\r\n                      _id: obj[index]._id})\r\n        }\r\n\r\n        this.setState({users: users});\r\n        \r\n    }\r\n  \r\n  \r\n    //confirmDelete -- Triggered when the user clicks the delete button\r\n    //for a given round. The id paam is the unique property that \r\n    //identifies the round. Set the state variable representing the id\r\n    //of the round to be deleted and then present a dialog box asking\r\n    //the user to confirm the deletion.\r\n    deleteUser = (id) => {\r\n      //this.props.setDeleteId(id);\r\n      //this.setState({showConfirmDelete: true});\r\n    }\r\n    changeRoleCallBack = (userData,id) =>{\r\n        this.updateUser(userData,id);\r\n    \r\n    }\r\n\r\n    changeRole = (index) => {\r\n        let userData = {\r\n            userid: this.state.users[index].userid,\r\n            email: this.state.users[index].email,\r\n            password: this.state.users[index].password,\r\n            first_name: this.state.users[index].first_name,\r\n            last_name: this.state.users[index].last_name,\r\n            school: this.state.users[index].school,\r\n            is_instructor: this.state.users[index].is_instructor == true ? false: true,\r\n            is_admin: this.state.users[index].is_admin,\r\n            //  _id: this.state.users[index]._id\r\n          }\r\n\r\n\r\n        this.changeRoleCallBack(userData,userData.email);\r\n        this.loadUsers();\r\n        \r\n    }\r\n\r\n    updateUser = async (newData,id) =>{\r\n       \r\n      const url = '/users/' + id\r\n      const res = await fetch(url, {\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n        method: 'PUT',\r\n        body: JSON.stringify(newData)}); \r\n    if (res.status == 200) { //successful account creation!\r\n       \r\n    } else { //Unsuccessful account update\r\n        //Grab textual error message\r\n       \r\n    }\r\n    }\r\n  \r\n  \r\n    //renderTable -- render an HTML table displaying the rounds logged\r\n    //by the current user and providing buttons to view/edit and delete each round.\r\n    renderTable = () => {\r\n    let table = [];\r\n    for (let r = 0; r < this.state.users.length; ++r) {\r\n      table.push(\r\n        <tr key={r}>\r\n          <td id={\"userAdmin\"+r}>{this.state.users[r].first_name + \" \"+this.state.users[r].last_name}</td>\r\n          <td id={\"userId\"+r}>{this.state.users[r].userid}</td>\r\n          <td>{this.state.users[r].email}</td>\r\n          <td id={\"userRole\"+r}>{String (this.state.users[r].is_instructor)}&nbsp;\r\n          <button onClick={() => this.changeRole(r)} id={\"changeRoleBtn\"+r}>\r\n                <span className=\"fa fa-pencil\"></span></button>\r\n                </td>\r\n          <td><button onClick={() => this.deleteUser(r)}>\r\n                <span className=\"fa fa-trash\"></span></button> </td>\r\n        </tr> \r\n      );\r\n    }\r\n    return table;\r\n    }\r\n  \r\n    //render--render the entire rounds table with header, displaying a \"No\r\n    //Rounds Logged\" message in case the table is empty.\r\n    render() {\r\n      return(\r\n      <div className=\"padded-page\" id=\"adminPage\">\r\n        <h1></h1>\r\n        <table className=\"table table-hover\">\r\n          <thead className=\"thead-light\">\r\n          <tr>\r\n            <th>NAME</th>\r\n            <th>ID</th>\r\n            <th>EMAIL ADDRESS</th>\r\n            <th>INSTRUCTOR ROLE</th>\r\n            <th>DELETE</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n            {Object.keys(this.state.users).length === 0 ? \r\n            <tr>\r\n            <td colSpan=\"5\" style={{fontStyle: \"italic\"}}>No users registered</td>\r\n            </tr> : this.renderTable()\r\n            }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default Admin;","import React from 'react';\r\nimport NavBar from './NavBar.js';\r\nimport LoginPage from './LoginPage.js';\r\nimport AppMode from \"./../AppMode.js\"\r\nimport FeedPage from './FeedPage.js';\r\nimport Register from './RegisterPage'\r\nimport ResetPassword from './ResetPasswordPage'\r\nimport Grades from './GradesPage'\r\nimport Assignments from './AssignmentsPage'\r\nimport Analytics from './AnalyticsPage'\r\nimport CourseSettings from './CourseSettingsPage'\r\nimport Users from './UsersPage'\r\nimport Help from './HelpPage'\r\nimport Mail from './MailPage'\r\nimport Profile from './ProfilePage'\r\nimport DeleteCourse from './DeleteCoursePage'\r\nimport FindCourse from './FindCoursePage'\r\nimport UserSettings from './UserSettingsPage'\r\nimport Administrator from './Admin'\r\nimport { async } from 'regenerator-runtime';\r\n\r\n\r\n\r\nconst modeTitle = {};\r\nmodeTitle[AppMode.ADMIN] = \"Administrator\"\r\nmodeTitle[AppMode.LOGIN] = \"Welcome to SpeedScore\";\r\nmodeTitle[AppMode.FEED] = \"Dashboard\";\r\nmodeTitle[AppMode.REGISTER] = \"Register\";\r\nmodeTitle[AppMode.COURSES] = \"Courses\";\r\nmodeTitle[AppMode.RESET] = \"Reset Password\";\r\nmodeTitle[AppMode.GRADES] = \"Grades\";\r\nmodeTitle[AppMode.USERS] = \"Users\";\r\nmodeTitle[AppMode.USERS_LOGUSER]= \"Add User\";\r\nmodeTitle[AppMode.USERS_EDITUSER]= \"Edit User\";\r\nmodeTitle[AppMode.ANALYTICS] = \"Analytics\";\r\nmodeTitle[AppMode.ASSIGNMENTS] = \"Assignments\";\r\nmodeTitle[AppMode.COURSE_SETTINGS] = \"Course Settings\";\r\nmodeTitle[AppMode.HELP] = \"Help\";\r\nmodeTitle[AppMode.MAIL] = \"Mail\";\r\nmodeTitle[AppMode.PROFILE] = \"Profile\";\r\nmodeTitle[AppMode.DELETE_COURSE] = \"Delete Course\";\r\nmodeTitle[AppMode.FIND_COURSE] = \"Find Course\";\r\nmodeTitle[AppMode.USER_SETTINGS] = \"User Settings\";\r\n\r\nconst modeToPage = {};\r\nmodeToPage[AppMode.ADMIN] = Administrator;\r\nmodeToPage[AppMode.LOGIN] = LoginPage;\r\nmodeToPage[AppMode.FEED] = FeedPage;\r\nmodeToPage[AppMode.REGISTER] = Register;\r\nmodeToPage[AppMode.RESET] = ResetPassword;\r\nmodeToPage[AppMode.GRADES] = Grades;\r\nmodeToPage[AppMode.USERS] = Users;\r\nmodeToPage[AppMode.USERS_LOGUSER] = Users;\r\nmodeToPage[AppMode.USERS_EDITUSER] = Users;\r\nmodeToPage[AppMode.ANALYTICS] = Analytics;\r\nmodeToPage[AppMode.ASSIGNMENTS] = Assignments;\r\nmodeToPage[AppMode.COURSE_SETTINGS] = CourseSettings;\r\nmodeToPage[AppMode.HELP] = Help;\r\nmodeToPage[AppMode.MAIL] = Mail;\r\nmodeToPage[AppMode.PROFILE] = Profile;\r\nmodeToPage[AppMode.DELETE_COURSE] = DeleteCourse;\r\nmodeToPage[AppMode.FIND_COURSE] = FindCourse;\r\nmodeToPage[AppMode.USER_SETTINGS] = UserSettings;\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor() {\r\n\r\n    super();\r\n    this.state = {\r\n      mode: AppMode.LOGIN,\r\n      menuOpen: false,\r\n      authenticated: false,\r\n      userObj: { displayName: \"\", profilePicURL: \"\" },\r\n      selectedCourse: {},\r\n      Enrolledcourses: {},\r\n      editAccount: false,\r\n      showEditAccountDialog: false,\r\n      statusMsg: \"\",\r\n      showAboutDialog: false,\r\n      createCourse: true\r\n    };\r\n  }\r\n\r\n  //componentDidMount\r\n  componentDidMount() {\r\n\r\n    if (!this.state.authenticated) {\r\n      //Use /auth/test route to (re)-test authentication and obtain user data\r\n      fetch(\"/auth/test\")\r\n        .then((response) => response.json())\r\n        .then((obj) => {\r\n          if (obj.isAuthenticated) {\r\n            console.log(\"inside didmount \")\r\n             this.setState({\r\n              userObj: obj.user,\r\n              authenticated: true,\r\n              mode: AppMode.FEED //We're authenticated so can get into the app.\r\n            }, async function () {\r\n              console.log(\"inside didmount \")\r\n\r\n              if (this.state.userObj.is_instructor === true) {\r\n                // gets all courses currently logged in proffesor is teaching\r\n                let response = await fetch(\"courses/profCourses/\" + this.state.userObj.userid);\r\n                response = await response.json();\r\n                const obj = JSON.parse(response);\r\n                if (obj.length != 0) { // if there are courses\r\n                  await this.setState({selectedCourse: obj[0],Enrolledcourses:obj})\r\n                  console.log(obj);\r\n                } else {\r\n                  \r\n                  this.setState({\r\n                    mode: AppMode.COURSE_SETTINGS,\r\n                    selectedCourse: null\r\n                  })\r\n                  //instructor has no courses\r\n                }\r\n              } else {\r\n                let response = await fetch(\"courses/studentCourses/\" + this.state.userObj.userid);\r\n                response = await response.json();\r\n                const obj = JSON.parse(response);\r\n                 if (obj.length != 0) {\r\n                  await this.setState({\r\n                    selectedCourse: obj[0],Enrolledcourses: obj})\r\n                  console.log(obj);\r\n                } else {\r\n                  this.setState({\r\n                    mode: AppMode.FIND_COURSE,\r\n                    selectedCourse: null\r\n                  })\r\n                  // student not enrolled in any courses\r\n                }\r\n\r\n              }\r\n\r\n            });\r\n          }\r\n\r\n        }\r\n        )\r\n\r\n    }\r\n  }\r\n\r\n  //refreshOnUpdate(newMode) -- Called by child components when user data changes in \r\n  //the database. The function calls the users/:userid (GET) route to update \r\n  //the userObj state var based on the latest database changes, and sets the \r\n  //mode state var is set to newMode. After this method is called, the\r\n  //App will re-render itself, forcing the new data to \r\n  //propagate to the child components when they are re-rendered.\r\n  refreshOnUpdate = async (newMode) => {\r\n    //console.log(\"HERE\");\r\n    let response = await fetch(\"/users/\" + this.state.userObj.email);\r\n    response = await response.json();\r\n    const obj = JSON.parse(response);\r\n    this.setState({\r\n      userObj: obj,\r\n      mode: newMode\r\n    });\r\n    if (newMode === AppMode.FEED || newMode === AppMode.USERS){\r\n    let response2 = await fetch(\"courses/studentCourses/\" + this.state.userObj.userid);\r\n    response2 = await response.json();\r\n    const obj2 = JSON.parse(response);\r\n    console.log(obj2)\r\n    if (obj2.length != 0) {\r\n      this.setState({\r\n        selectedCourse: obj2[0],\r\n      })\r\n      console.log(obj2);\r\n    } else {\r\n      this.setState({\r\n       \r\n        selectedCourse: null\r\n      })\r\n      // student not enrolled in any courses\r\n    }\r\n  }\r\n  }\r\n\r\n  loadCourses = async() =>{\r\n    if (this.state.userObj.is_instructor === true) {\r\n      // gets all courses currently logged in proffesor is teaching\r\n      let response = await fetch(\"courses/profCourses/\" + this.state.userObj.userid);\r\n      response = await response.json();\r\n      const obj = JSON.parse(response);\r\n      this.setState({Enrolledcourses: obj});\r\n    }\r\n  }\r\n\r\n  updateSelectedCourse = (_id) =>{\r\n    var index = 0;\r\n    for(index;index<this.state.Enrolledcourses.length;index++){\r\n      if(this.state.Enrolledcourses[index]._id == _id){\r\n          this.setState({selectedCourse:this.state.Enrolledcourses[index]});\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  createCourse = (arg) => {\r\n    this.setState( { createCourse: arg });\r\n  }\r\n\r\n\r\n  handleChangeMode = (newMode) => {\r\n    \r\n    this.setState({ mode: newMode });\r\n  }\r\n\r\n  openMenu = () => {\r\n    this.setState({ menuOpen: true });\r\n  }\r\n\r\n  closeMenu = () => {\r\n    this.setState({ menuOpen: false });\r\n  }\r\n\r\n  toggleMenuOpen = () => {\r\n    this.setState(prevState => ({ menuOpen: !prevState.menuOpen }));\r\n  }\r\n\r\n  setUserId = (Id) => {\r\n    this.setState({\r\n      userId: Id,\r\n      authenticated: true\r\n    });\r\n  }\r\n\r\n  showEditAccount = () => {\r\n    this.setState({ showEditAccountDialog: true });\r\n\r\n  }\r\n\r\n  cancelEditAccount = () => {\r\n    this.setState({ showEditAccountDialog: false });\r\n  }\r\n\r\n  //editAccountDone -- called after successful edit or\r\n  //deletion of user account. msg contains the status\r\n  //message and deleted indicates whether an account was\r\n  //edited (deleted == false) or deleted (deleted == true)\r\n  editAccountDone = (msg, deleted) => {\r\n    if (deleted) {\r\n      this.setState({\r\n        showEditAccountDialog: false,\r\n        statusMsg: msg,\r\n        mode: AppMode.LOGIN\r\n      });\r\n    } else {\r\n      this.setState({\r\n        showEditAccountDialog: false,\r\n        statusMsg: msg\r\n      });\r\n    }\r\n  }\r\n\r\n  closeStatusMsg = () => {\r\n    this.setState({ statusMsg: \"\" });\r\n  }\r\n\r\n  render() {\r\n    const ModePage = modeToPage[this.state.mode];\r\n    return (\r\n      <div className=\"padded-page\">\r\n        {this.state.statusMsg != \"\" ? <div className=\"status-msg\">\r\n          <span>{this.state.statusMsg}</span>\r\n          <button className=\"modal-close\" onClick={this.closeStatusMsg}>\r\n            <span className=\"fa fa-times\"></span></button></div> : null}\r\n        {this.state.mode == AppMode.LOGIN || this.state.mode == AppMode.REGISTER ? null : <NavBar\r\n          Enrolledcourses={this.state.Enrolledcourses}\r\n          userObj={this.state.userObj}\r\n          selectedCourse={this.state.selectedCourse}\r\n          updateSelectedCourse={this.updateSelectedCourse}\r\n          dashboard={modeTitle[this.state.mode]}\r\n          grades={modeTitle[AppMode.GRADES]}\r\n          assignments={modeTitle[AppMode.ASSIGNMENTS]}\r\n          users={modeTitle[AppMode.USERS]}\r\n          userObj={this.state.userObj}\r\n          analytics={modeTitle[AppMode.ANALYTICS]}\r\n          settings={modeTitle[AppMode.COURSE_SETTINGS]}\r\n          mode={this.state.mode}\r\n          changeMode={this.handleChangeMode}\r\n          menuOpen={this.state.menuOpen}\r\n          createCourse={this.createCourse}\r\n          toggleMenuOpen={this.toggleMenuOpen} />}\r\n        <ModePage\r\n          create={false} // this will be set to \r\n          menuOpen={this.state.menuOpen}\r\n          mode={this.state.mode}\r\n          loadCourses={this.loadCourses}\r\n          changeMode={this.handleChangeMode}\r\n          userObj={this.state.userObj}\r\n          selectedCourse={this.state.selectedCourse}\r\n          Enrolledcourses = {this.state.Enrolledcourses}\r\n          refreshOnUpdate={this.refreshOnUpdate} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap-social/bootstrap-social.css';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport './styles/index.css';\r\nimport App from './components/App.js';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}